/*!
 * Master Slider – Responsive Touch Swipe Slider
 * Copyright © 2017 All Rights Reserved.
 *
 * @author Averta [www.averta.net]
 * @version 2.51.2
 * @date Jun 2017
 */ window.averta={},($=>{function getVendorPrefix(){if("result"in getVendorPrefix)return getVendorPrefix.result;let t=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,e=document.getElementsByTagName("script")[0];for(let i in e.style)if(t.test(i))return getVendorPrefix.result=i.match(t)[0];return getVendorPrefix.result="WebkitOpacity"in e.style?"Webkit":"KhtmlOpacity"in e.style?"Khtml":""}function checkStyleValue(t){let e=document.body||document.documentElement,i=e.style,s=t;if("string"==typeof i[s])return!0;v=["Moz","Webkit","Khtml","O","ms"],s=s.charAt(0).toUpperCase()+s.substr(1);for(let n=0;n<v.length;n++)if("string"==typeof i[v[n]+s])return!0;return!1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms())return!1;let t,e=document.createElement("i"),i={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};for(let s in e.style.display="block",document.body.insertBefore(e,null),i)void 0!==e.style[s]&&(e.style[s]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[s]));return document.body.removeChild(e),null!=t&&t.length>0&&"none"!==t}window.package=t=>{window[t]||(window[t]={})};let extend=(t,e)=>{for(let i in e)t[i]=e[i]};Function.prototype.extend=function(t){"function"==typeof t.prototype.constructor?(extend(this.prototype,t.prototype),this.prototype.constructor=this):(this.prototype.extend(t),this.prototype.constructor=this)};let trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,$(document).ready(()=>{window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=t=>{let e={};return t.replace(RegExp("([^?=&]+)(=([^&]*))?","g"),(t,i,s,n)=>{e[i]=n}),e};let fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||(t=>{window.setTimeout(t,fps60)})),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=e=>{let i=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),i.test(e)&&(e=e.replace(i,function(...t){return t[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},t.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){let e=this.length>>>0,i=Number(arguments[1])||0;for(0>(i=0>i?Math.ceil(i):Math.floor(i))&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return -1}),window.isMSIE=version=>{if(!$.browser.msie)return!1;if(!version)return!0;let ieVer=$.browser.version.slice(0,$.browser.version.indexOf("."));return"string"==typeof version?eval(version.includes("<")||version.includes(">")?ieVer+version:`${version}==${ieVer}`):version==ieVer},$.removeDataAttrs=(t,e)=>{let i,s,n=[],o=t[0].attributes,l=o.length;for(e=e||[],i=0;l>i;i++)"data-"!==(s=o[i].name).substring(0,5)||e.includes(s)||n.push(o[i].name);$.each(n,(e,i)=>{t.removeAttr(i)})},jQuery){$.jqLoadFix=function(){if(this.complete){let t=this;setTimeout(()=>{$(t).trigger("load")},1)}},jQuery.uaMatch=jQuery.uaMatch||(t=>{t=t.toLowerCase();let e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||!t.includes("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}),matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);let isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(t,e){return this.each(function(){let i=$(this),s=this,n=new Image;n.onload=o=>{null==o&&(o={}),i.attr("src",t),o.width=n.width,o.height=n.height,i.data("width",n.width),i.data("height",n.height),setTimeout(()=>{e.call(s,o)},50),n=null},n.src=t}),this}}})(jQuery),averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=t=>{let e=new averta.EventDispatcher;for(let i in e)"constructor"!=i&&(t[i]=averta.EventDispatcher.prototype[i])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener(t,e,i){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({listener:e,ref:i})},removeEventListener(t,e,i){if(this.listeners[t]){for(let s=0;s<this.listeners[t].length;++s)e===this.listeners[t][s].listener&&i===this.listeners[t][s].ref&&this.listeners[t].splice(s--,1);0===this.listeners[t].length&&(this.listeners[t]=null)}},dispatchEvent(t){if(t.target=this,this.listeners[t.type])for(let e=0,i=this.listeners[t.type].length;i>e;++e)this.listeners[t.type][e].listener.call(this.listeners[t.type][e].ref,t)}},(t=>{let e="ontouchstart"in document,i=window.navigator.pointerEnabled,s=!i&&window.navigator.msPointerEnabled,n=i||s,o=`${(i?"pointerdown ":"")+(s?"MSPointerDown ":"")+(e?"touchstart ":"")}mousedown`,l=`${(i?"pointermove ":"")+(s?"MSPointerMove ":"")+(e?"touchmove ":"")}mousemove`,h=`${(i?"pointerup ":"")+(s?"MSPointerUp ":"")+(e?"touchend ":"")}mouseup`,a=`${(i?"pointercancel ":"")+(s?"MSPointerCancel ":"")}touchcancel`;averta.TouchSwipe=function(t){this.$element=t,this.enabled=!0,t.on(o,{target:this},this.__touchStart),t[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};let r=averta.TouchSwipe.prototype;r.getDirection=function(t,e){switch(this.swipeType){case"horizontal":return t<=this.start_x?"left":"right";case"vertical":return e<=this.start_y?"up":"down";case"all":return Math.abs(t-this.start_x)>Math.abs(e-this.start_y)?t<=this.start_x?"left":"right":e<=this.start_y?"up":"down"}},r.priventDefultEvent=function(t,e){let i=Math.abs(t-this.start_x),s=Math.abs(e-this.start_y),n=i>s;return"horizontal"===this.swipeType&&n||"vertical"===this.swipeType&&!n},r.createStatusObject=function({pageX:t,pageY:e}){let i,s,n={};return i=this.lastStatus.distanceX||0,s=this.lastStatus.distanceY||0,n.distanceX=t-this.start_x,n.distanceY=e-this.start_y,n.moveX=n.distanceX-i,n.moveY=n.distanceY-s,n.distance=parseInt(Math.sqrt(n.distanceX**2+n.distanceY**2)),n.duration=new Date().getTime()-this.start_time,n.direction=this.getDirection(t,e),n},r.__reset=function(t,e){this.reset=!1,this.lastStatus={},this.start_time=new Date().getTime();let i=this.__getPoint(t,e);this.start_x=i.pageX,this.start_y=i.pageY},r.__touchStart=function(i){let s=i.data.target,o=i;if(s.enabled&&!(t(i.target).closest(s.noSwipeSelector,s.$element).length>0)){if(i=i.originalEvent,n&&t(this).css("-ms-touch-action","horizontal"===s.swipeType?"pan-y":"pan-x"),!s.onSwipe)return void t.error("Swipe listener is undefined");if(!(s.touchStarted||e&&s.start_time&&"mousedown"===i.type&&new Date().getTime()-s.start_time<600)){let r=s.__getPoint(i,o);s.start_x=r.pageX,s.start_y=r.pageY,s.start_time=new Date().getTime(),t(document).on(h,{target:s},s.__touchEnd).on(l,{target:s},s.__touchMove).on(a,{target:s},s.__touchCancel);let d=s.createStatusObject(r);d.phase="start",s.onSwipe.call(null,d),e||o.preventDefault(),s.lastStatus=d,s.touchStarted=!0}}},r.__touchMove=t=>{let e=t.data.target,i=t;if(t=t.originalEvent,e.touchStarted){clearTimeout(e.timo),e.timo=setTimeout(()=>{e.__reset(t,i)},60);let s=e.__getPoint(t,i),n=e.createStatusObject(s);e.priventDefultEvent(s.pageX,s.pageY)&&i.preventDefault(),n.phase="move",e.lastStatus=n,e.onSwipe.call(null,n)}},r.__touchEnd=i=>{let s=i.data.target,n=i;i=i.originalEvent,clearTimeout(s.timo);let o=s.lastStatus;e||n.preventDefault(),o.phase="end",s.touchStarted=!1,s.priventEvt=null,t(document).off(h,s.__touchEnd).off(l,s.__touchMove).off(a,s.__touchCancel),o.speed=o.distance/o.duration,s.onSwipe.call(null,o)},r.__touchCancel=t=>{let e=t.data.target;e.__touchEnd(t)},r.__getPoint=(t,i)=>e&&!t.type.includes("mouse")?t.touches[0]:n?t:i,r.enable=function(){this.enabled||(this.enabled=!0)},r.disable=function(){this.enabled&&(this.enabled=!1)}})(jQuery),(()=>{averta.Ticker=()=>{};let t=averta.Ticker,e=[],i=0,s=!0;t.add=(s,n)=>(e.push([s,n]),1===e.length&&t.start(),i=e.length),t.remove=(s,n)=>{for(let o=0,l=e.length;l>o;++o)e[o]&&e[o][0]===s&&e[o][1]===n&&e.splice(o,1);0===(i=e.length)&&t.stop()},t.start=()=>{s&&(s=!1,n())},t.stop=()=>{s=!0};var n=()=>{if(!t.__stopped){for(let s,o=0;o!==i;o++)(s=e[o])[0].call(s[1]);requestAnimationFrame(n)}}})(),Date.now||(Date.now=()=>new Date().getTime()),averta.Timer=function(t,e){this.delay=t,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,e&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime(){return this.delay*this.currentCount}},(()=>{window.CSSTween=function(t,e,i,s){this.$element=t,this.duration=e||1e3,this.delay=i||0,this.ease=s||"linear"};let t=CSSTween.prototype;t.to=function(t,e){return this.to_cb=t,this.to_cb_target=e,this},t.from=function(t,e){return this.fr_cb=t,this.fr_cb_target=e,this},t.onComplete=function(t,e){return this.oc_fb=t,this.oc_fb_target=e,this},t.chain=function(t){return this.chained_tween=t,this},t.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},t.start=function(){let t=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(t.style[`${window._jcsspfx}TransitionDuration`]="0ms",this.fr_cb.call(this.fr_cb_target));let e=this;return this.onTransComplete=()=>{e.fresh&&(e.reset(),t.style[`${window._jcsspfx}TransitionDuration`]="",t.style[`${window._jcsspfx}TransitionProperty`]="",t.style[`${window._jcsspfx}TransitionTimingFunction`]="",t.style[`${window._jcsspfx}TransitionDelay`]="",e.fresh=!1,e.chained_tween&&e.chained_tween.start(),e.oc_fb&&e.oc_fb.call(e.oc_fb_target))},this.start_to=setTimeout(()=>{e.$element&&(t.style[`${window._jcsspfx}TransitionDuration`]=`${e.duration}ms`,t.style[`${window._jcsspfx}TransitionProperty`]=e.transProperty||"all",t.style[`${window._jcsspfx}TransitionDelay`]=e.delay>0?`${e.delay}ms`:"",t.style[`${window._jcsspfx}TransitionTimingFunction`]=e.ease,e.to_cb&&e.to_cb.call(e.to_cb_target),e.end_to=setTimeout(()=>{e.onTransComplete()},e.duration+(e.delay||0)))},1),this}})(),(()=>{function t(t,i){if(void 0!==i.x||void 0!==i.y){if(e){let s=`${window._jcsspfx}Transform`;void 0!==i.x&&(i[s]=`${i[s]||""} translateX(${i.x}px)`,delete i.x),void 0!==i.y&&(i[s]=`${i[s]||""} translateY(${i.y}px)`,delete i.y)}else{if(void 0!==i.x){let n="auto"!==t.css("right")?"right":"left";i[n]=`${i.x}px`,delete i.x}if(void 0!==i.y){let o="auto"!==t.css("bottom")?"bottom":"top";i[o]=`${i.y}px`,delete i.y}}}return i}var e=null;window.CTween={},CTween.setPos=(e,i)=>{e.css(t(e,i))},CTween.animate=(i,s,n,o)=>{if(null==e&&(e=window._cssanim),o=o||{},t(i,n),e){let l=new CSSTween(i,s,o.delay,EaseDic[o.ease]);return o.transProperty&&(l.transProperty=o.transProperty),l.to(()=>{i.css(n)}),o.complete&&l.onComplete(o.complete,o.target),l.start(),l.stop=l.reset,l}let h;return o.delay&&i.delay(o.delay),o.complete&&(h=()=>{o.complete.call(o.target)}),i.stop(!0).animate(n,s,o.ease||"linear",h),i},CTween.fadeOut=(t,e,i)=>{let s={};!0===i?s.complete=()=>{t.remove()}:2===i&&(s.complete=()=>{t.css("display","none")}),CTween.animate(t,e||1e3,{opacity:0},s)},CTween.fadeIn=(t,e,i)=>{!1!==i&&t.css("opacity",0).css("display",""),CTween.animate(t,e||1e3,{opacity:1})}})(),window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},(()=>{window.MSAligner=function(t,e,i){this.$container=e,this.$img=i,this.type=t||"stretch",this.widthOnly=!1,this.heightOnly=!1};let t=MSAligner.prototype;t.init=function(t,e){switch(this.baseWidth=t,this.baseHeight=e,this.imgRatio=t/e,this.imgRatio2=e/t,this.type){case"tile":this.$container.css("background-image",`url(${this.$img.attr("src")})`),this.$img.remove();break;case"center":this.$container.css("background-image",`url(${this.$img.attr("src")})`),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},t.align=function(){if(this.needAlign){let t=this.$container[0].offsetWidth,e=this.$container[0].offsetHeight,i=t/e;"fill"==this.type?this.imgRatio<i?(this.$img.width(t),this.$img.height(t*this.imgRatio2)):(this.$img.height(e),this.$img.width(e*this.imgRatio)):"fit"==this.type&&(this.imgRatio<i?(this.$img.height(e),this.$img.width(e*this.imgRatio)):(this.$img.width(t),this.$img.height(t*this.imgRatio2))),this.setMargin()}},t.setMargin=function(){let t=this.$container[0].offsetWidth,e=this.$container[0].offsetHeight;this.$img.css("margin-top",`${(e-this.$img[0].offsetHeight)/2}px`),this.$img.css("margin-left",`${(t-this.$img[0].offsetWidth)/2}px`)}})(),(t=>{let e=function(i){this.options=t.extend({},e.defaultOptions,i),this.isEnabled=!1,(this.options.forcePolyfill||!this.supportsPointerEvents())&&(this.registerEvents(),this.isEnabled=!0)};e.defaultOptions={forcePolyfill:!1,selector:"*",listenOn:["click","dblclick","mousedown","mouseup"],pointerEventsNoneClass:null,pointerEventsAllClass:null,eventNamespace:"pointer-events-polyfill"},e.prototype.registerEvents=function(){t(document).on(this.getEventNames(),this.options.selector,t.proxy(this.onElementClick,this))},e.prototype.getEventNames=function(){let t=this.options.eventNamespace?`.${this.options.eventNamespace}`:"";return this.options.listenOn.join(`${t} `)+t},e.prototype.supportsPointerEvents=()=>{let t=document.createElement("a").style;return t.cssText="pointer-events:auto","auto"===t.pointerEvents},e.prototype.isClickThrough=function(t){let e=t.css("pointer-events");return!(0===t.length||"all"===e||t.is(":root")||t.hasClass(this.options.pointerEventsAllClass))&&!!("none"===e||t.hasClass(this.options.pointerEventsNoneClass)||this.isClickThrough(t.parent()))},e.prototype.onElementClick=function(e){let i=t(e.target);if(!this.isClickThrough(i))return!0;i.hide();let s=document.elementFromPoint(e.clientX,e.clientY);return e.target=s,t(s).trigger(e),"A"===s.tagName&&(2===e.which?window.open(s.getAttribute("href"),"_blank"):s.click()),i.show(),!1},e.prototype.destroy=function(){t(document).off(this.getEventNames()),this.isEnabled=!1},window.pointerEventsPolyfill=t=>new e(t)})(jQuery),(()=>{let t={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},e=function(e,i,s){if(null===i||null===e)throw Error("Max and Min values are required.");for(let n in this.options=s||{},t)n in this.options||(this.options[n]=t[n]);this._max_value=i,this._min_value=e,this.value=e,this.end_loc=e,this.current_snap=this.getSnapNum(e),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},i=e.prototype;i.changeTo=function(t,e,i,s,n){if(this.stopped=!1,this._internalStop(),t=this._checkLimits(t),i=Math.abs(i||0),this.options.snapping&&(s=s||this.getSnapNum(t),!1!==n&&this._callsnapChange(s),this.current_snap=s),e){this.animating=!0;let o=this,l=++o.__animID,h=t-o.value,a=0,r=t,d=1-o.options.friction,p=d+(i-20)*d*1.3/o.options.maxSpeed,c=()=>{if(l===o.__animID){let e=t-o.value;if(!(Math.abs(e)>o.options.minValidDist&&o.animating))return o.animating&&(o.value=t,o._callrenderer()),o.animating=!1,l!==o.__animID&&(o.__animID=-1),void o._callonComplete("anim");window.requestAnimationFrame(c),o.value=r-h*Math.exp(-++a*p),o._callrenderer()}};return void c()}this.value=t,this._callrenderer()},i.drag=function(t){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=t,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*t):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},i.push=function(t){if(this.stopped=!1,this.options.snapping&&Math.abs(t)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=t,this.__startSpeed=t,this.end_loc=this._calculateEnd(),this.options.snapping){let e=this.getSnapNum(this.value),i=this.getSnapNum(this.end_loc);if(this.options.paging)return e=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(t>0?this.gotoSnap(e+1,!0,t):this.gotoSnap(e-1,!0,t));if(e===i)return void this.cancel();this._callsnapChange(i),this.current_snap=i}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},i.bounce=function(t){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=t,this.__startSpeed=t,this.end_loc=this._calculateEnd(),this._startDecelaration())},i.stop=function(){this.stopped=!0,this._internalStop()},i.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},i.renderCallback=function(t,e){this.__renderHook={fun:t,ref:e}},i.snappingCallback=function(t,e){this.__snapHook={fun:t,ref:e}},i.snapCompleteCallback=function(t,e){this.__compHook={fun:t,ref:e}},i.getSnapNum=function(t){return Math.floor((t+this.options.snapsize/2)/this.options.snapsize)},i.nextSnap=function(){this._internalStop();let t=this.getSnapNum(this.value);!this.options.endless&&(t+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(t+1,!0)},i.prevSnap=function(){this._internalStop();let t=this.getSnapNum(this.value);!this.options.endless&&(t-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(t-1,!0)},i.gotoSnap=function(t,e,i){this.changeTo(t*this.options.snapsize,e,i,t)},i.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},i._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},i._calculateExtraMove=function(t){let e=t%this.options.snapsize;return e<this.options.snapsize/2?-e:this.options.snapsize-e},i._calculateEnd=function(t){for(var e=this.__speed,i=this.value,s=0;Math.abs(e)>this.options.minValidDist;)i+=e,e*=this.options.friction,s++;return t?s:i},i._checkLimits=function(t){return this.options.endless?t:t<this._min_value?this._min_value:t>this._max_value?this._max_value:t},i._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},i._callsnapChange=function(t){this.__snapHook&&t!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,t,t-this.current_snap)},i._callonComplete=function(t){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,t)},i._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){let t=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+t-this.__extrStep,this.__extrStep=t}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){let e=0;this.value<this._min_value?e=this._min_value-this.value:this.value>this._max_value&&(e=this._max_value-this.value),this.__isout=Math.abs(e)>=this.options.minValidDist,this.__isout&&(this.__speed*e<=0?this.__speed+=e*this.options.outFriction:this.__speed=e*this.options.outAcceleration)}},i._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;let t=this,e=()=>{t._deceleration&&(t._computeDeceleration(),Math.abs(t.__speed)>t.options.minValidDist||t.__isout?window.requestAnimationFrame(e):(t._deceleration=!1,t.__isout=!1,t.value=t.__needsSnap&&t.options.snapping&&!t.options.paging?t._checkLimits(t.end_loc+t.__extraMove):Math.round(t.value),t._callrenderer(),t._callonComplete("decel")))};e()}},window.Controller=e})(),((t,e,i)=>{t.MSLayerController=function(t){this.slide=t,this.slider=t.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=i("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=i("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=i("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=i("<div></div>").addClass("ms-anim-layers")};let s=MSLayerController.prototype;s.addLayer=function(t){switch(t.slide=this.slide,t.controller=this,t.$element.data("position")){case"static":this.hasStaticLayer=!0,t.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,t.$element.appendTo(this.$fixedLayers);break;default:t.$element.appendTo(this.$animLayers)}t.create(),this.layers.push(t),this.layersCount++,t.parallax&&(this.hasParallaxLayer=!0),t.needPreload&&this.preloadCount++},s.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",`${this.slider.options.width}px`),this.hasFixedLayer&&this.$fixedLayers.css("max-width",`${this.slider.options.width}px`))},s.loadLayers=function(t){if(this._onReadyCallback=t,0===this.preloadCount)return void this._onlayersReady();for(let e=0;e!==this.layersCount;++e)this.layers[e].needPreload&&this.layers[e].loadImage()},s.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},s.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},s.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){let t=this;t.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete(){t._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete(){t.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},s.animHideLayers=function(){if(this.ready)for(let t=0;t!==this.layersCount;++t)this.layers[t].hide()},s.setSize=function(t,e,i){if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(i&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){let s=`${Math.max(0,(t-this.slider.options.width)/2)}px`;this.$layers[0].style.left=s,this.$fixedLayers[0].style.left=s}},s.updateHeight=()=>{},s._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},s.onSlideSleep=()=>{},s.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},s.getLayerById=function(t){if(!t)return null;for(let e=0;e<this.layersCount;++e)if(this.layers[e].id===t)return this.layers[e];return null},s.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(let t=0;t<this.layersCount;++t)this.layers[t].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},s._startLayers=function(){for(let t=0;t!==this.layersCount;++t){let e=this.layers[t];e.waitForAction||e.start()}},s._initLayers=function(t,e){if(!(this.init&&!t||this.slider.init_safemode)){this.init=!0!==e;let i=0;if(e&&!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].init();else if(this.staticsInit&&!t)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},s._locateLayers=function(t){let e=0;if(t)for(;e!==this.layersCount;++e)this.layers[e].staticLayer&&this.layers[e].locate();else for(;e!==this.layersCount;++e)this.layers[e].locate()},s._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(let t=0;t!==this.layersCount;++t)this.layers[t].reset()},s._applyParallax=function(t,e,i){for(let s=0;s!==this.layersCount;++s)null!=this.layers[s].parallax&&this.layers[s].moveParallax(t,e,i)},s._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},s._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},s._resetParalax=({data:t})=>{let e=t.that;e._applyParallax(0,0)},s._mouseParallaxMove=({data:t,pageX:e,pageY:i})=>{let s=t.that,n=s.slide.$element.offset(),o=s.slider;if("mouse:y-only"!==o.options.parallaxMode)var l=e-n.left-s.slide.__width/2;else var l=0;if("mouse:x-only"!==o.options.parallaxMode)var h=i-n.top-s.slide.__height/2;else var h=0;s._applyParallax(-l,-h)},s._swipeParallaxMove=function(){let t=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,t,!0):this._applyParallax(t,0,!0)}})(window,document,jQuery),((t,e)=>{e.MSOverlayLayerController=function(...t){MSLayerController.apply(this,t)},MSOverlayLayerController.extend(MSLayerController);let i=MSOverlayLayerController.prototype,s=MSLayerController.prototype;i.addLayer=function(t){let e=t.$element.data("show-on"),i=t.$element.data("hide-on");i&&(t.hideOnSlides=i.replace(/\s+/g,"").split(",")),e&&(t.showOnSlides=e.replace(/\s+/g,"").split(",")),s.addLayer.apply(this,arguments)},i.create=function(...t){s.create.apply(this,t),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.checkLayers.on(this))},i.checkLayers=function(){if(this.ready)for(let t=0;t!==this.layersCount;++t){let e=this.layers[t];e.waitForAction||(this._checkForShow(e)?e.start():e.hide())}},i._enableParallaxEffect=function(){this.slider.view.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},i._disableParallaxEffect=function(){this.slider.view.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},i._startLayers=function(){for(let t=0;t!==this.layersCount;++t){let e=this.layers[t];this._checkForShow(e)&&!e.waitForAction&&e.start()}},i._checkForShow=function({hideOnSlides:t,showOnSlides:e}){let i=this.slider.api.currentSlide.id,s=t,n=e;return n?!!i&&n.includes(i):!i||!s||s.length&&!s.includes(i)}})(jQuery,window,document),((t,e)=>{e.MSOverlayLayers=function(t){this.slider=t};let i=MSOverlayLayers.prototype;i.setupLayerController=function(){this.layerController=new MSOverlayLayerController(this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this.setSize.on(this)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.setSize.on(this)),this.setSize()},i.setSize=function(){this.__width=this.$element.width(),this.__height=this.$element.height(),this.layerController.setSize(this.__width,this.__height)},i.create=function(){this.layerController.create(),this.layerController.loadLayers(this._onLayersLoad),this.layerController.prepareToShow(),e.pointerEventsPolyfill&&e.pointerEventsPolyfill({selector:`#${this.slider.$element.attr("id")} .ms-overlay-layers`,forcePolyfill:!1})},i.getHeight=function(){return this.slider.api.currentSlide.getHeight()},i.destroy=function(){this.layerController.destroy()},i._onLayersLoad=function(){this.ready=!0,this.selected=!0,this.layersLoaded=!0,this.setSize(),this.layerController.showLayers()}})(jQuery,window,document),(t=>{window.MSLayerEffects={};let e,i={opacity:0};MSLayerEffects.setup=()=>{if(!e){e=!0;let s=MSLayerEffects,n=`${window._jcsspfx}Transform`,o=`${window._jcsspfx}TransformOrigin`,l=t.browser.opera;_2d=window._css2d&&window._cssanim&&!l,s.defaultValues={left:0,top:0,opacity:isMSIE("<=9")?1:"",right:0,bottom:0},s.defaultValues[n]="",s.rf=1,s.presetEffParams={random:"30|300",long:300,short:30,false:!1,true:!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},s.fade=()=>i,s.left=_2d?(t,e)=>{let i=!1===e?{}:{opacity:0};return i[n]=`translateX(${-t*s.rf}px)`,i}:(t,e)=>{let i=!1===e?{}:{opacity:0};return i.left=`${-t*s.rf}px`,i},s.right=_2d?(t,e)=>{let i=!1===e?{}:{opacity:0};return i[n]=`translateX(${t*s.rf}px)`,i}:(t,e)=>{let i=!1===e?{}:{opacity:0};return i.left=`${t*s.rf}px`,i},s.top=_2d?(t,e)=>{let i=!1===e?{}:{opacity:0};return i[n]=`translateY(${-t*s.rf}px)`,i}:(t,e)=>{let i=!1===e?{}:{opacity:0};return i.top=`${-t*s.rf}px`,i},s.bottom=_2d?(t,e)=>{let i=!1===e?{}:{opacity:0};return i[n]=`translateY(${t*s.rf}px)`,i}:(t,e)=>{let i=!1===e?{}:{opacity:0};return i.top=`${t*s.rf}px`,i},s.from=_2d?(t,e,i)=>{let o=!1===i?{}:{opacity:0};return o[n]=`translateX(${t*s.rf}px) translateY(${e*s.rf}px)`,o}:(t,e,i)=>{let n=!1===i?{}:{opacity:0};return n.top=`${e*s.rf}px`,n.left=`${t*s.rf}px`,n},s.rotate=_2d?(t,e)=>{let i={opacity:0};return i[n]=` rotate(${t}deg)`,e&&(i[o]=e),i}:()=>i,s.rotateleft=_2d?(t,e,i,l)=>{let h=s.left(e,l);return h[n]+=` rotate(${t}deg)`,i&&(h[o]=i),h}:(t,e,i,n)=>s.left(e,n),s.rotateright=_2d?(t,e,i,l)=>{let h=s.right(e,l);return h[n]+=` rotate(${t}deg)`,i&&(h[o]=i),h}:(t,e,i,n)=>s.right(e,n),s.rotatetop=_2d?(t,e,i,l)=>{let h=s.top(e,l);return h[n]+=` rotate(${t}deg)`,i&&(h[o]=i),h}:(t,e,i,n)=>s.top(e,n),s.rotatebottom=_2d?(t,e,i,l)=>{let h=s.bottom(e,l);return h[n]+=` rotate(${t}deg)`,i&&(h[o]=i),h}:(t,e,i,n)=>s.bottom(e,n),s.rotatefrom=_2d?(t,e,i,l,h)=>{let a=s.from(e,i,h);return a[n]+=` rotate(${t}deg)`,l&&(a[o]=l),a}:(t,e,i,n,o)=>s.from(e,i,o),s.skewleft=_2d?(t,e,i)=>{let o=s.left(e,i);return o[n]+=` skewX(${t}deg)`,o}:(t,e,i)=>s.left(e,i),s.skewright=_2d?(t,e,i)=>{let o=s.right(e,i);return o[n]+=` skewX(${-t}deg)`,o}:(t,e,i)=>s.right(e,i),s.skewtop=_2d?(t,e,i)=>{let o=s.top(e,i);return o[n]+=` skewY(${t}deg)`,o}:(t,e,i)=>s.top(e,i),s.skewbottom=_2d?(t,e,i)=>{let o=s.bottom(e,i);return o[n]+=` skewY(${-t}deg)`,o}:(t,e,i)=>s.bottom(e,i),s.scale=_2d?(t,e,i,s)=>{let l=!1===s?{}:{opacity:0};return l[n]=` scaleX(${t}) scaleY(${e})`,i&&(l[o]=i),l}:(t,e,i,s)=>!1===s?{}:{opacity:0},s.scaleleft=_2d?(t,e,i,l,h)=>{let a=s.left(i,h);return a[n]=` scaleX(${t}) scaleY(${e})`,l&&(a[o]=l),a}:(t,e,i,n,o)=>s.left(i,o),s.scaleright=_2d?(t,e,i,l,h)=>{let a=s.right(i,h);return a[n]=` scaleX(${t}) scaleY(${e})`,l&&(a[o]=l),a}:(t,e,i,n,o)=>s.right(i,o),s.scaletop=_2d?(t,e,i,l,h)=>{let a=s.top(i,h);return a[n]=` scaleX(${t}) scaleY(${e})`,l&&(a[o]=l),a}:(t,e,i,n,o)=>s.top(i,o),s.scalebottom=_2d?(t,e,i,l,h)=>{let a=s.bottom(i,h);return a[n]=` scaleX(${t}) scaleY(${e})`,l&&(a[o]=l),a}:(t,e,i,n,o)=>s.bottom(i,o),s.scalefrom=_2d?(t,e,i,l,h,a)=>{let r=s.from(i,l,a);return r[n]+=` scaleX(${t}) scaleY(${e})`,h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.from(i,n,l),s.rotatescale=_2d?(t,e,i,l,h)=>{let a=s.scale(e,i,l,h);return a[n]+=` rotate(${t}deg)`,l&&(a[o]=l),a}:(t,e,i,n,o)=>s.scale(e,i,n,o),s.front=window._css3d?(t,e)=>{let i=!1===e?{}:{opacity:0};return i[n]=`perspective(2000px) translate3d(0 , 0 ,${t}px ) rotate(0.001deg)`,i}:()=>i,s.back=window._css3d?(t,e)=>{let i=!1===e?{}:{opacity:0};return i[n]=`perspective(2000px) translate3d(0 , 0 ,${-t}px ) rotate(0.001deg)`,i}:()=>i,s.rotatefront=window._css3d?(t,e,i,s)=>{let l=!1===s?{}:{opacity:0};return l[n]=`perspective(2000px) translate3d(0 , 0 ,${e}px ) rotate(${t||.001}deg)`,i&&(l[o]=i),l}:()=>i,s.rotateback=window._css3d?(t,e,i,s)=>{let l=!1===s?{}:{opacity:0};return l[n]=`perspective(2000px) translate3d(0 , 0 ,${-e}px ) rotate(${t||.001}deg)`,i&&(l[o]=i),l}:()=>i,s.rotate3dleft=window._css3d?(t,e,i,l,h,a)=>{let r=s.left(l,a);return r[n]+=(t?` rotateX(${t}deg)`:" ")+(e?` rotateY(${e}deg)`:"")+(i?` rotateZ(${i}deg)`:""),h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.left(n,l),s.rotate3dright=window._css3d?(t,e,i,l,h,a)=>{let r=s.right(l,a);return r[n]+=(t?` rotateX(${t}deg)`:" ")+(e?` rotateY(${e}deg)`:"")+(i?` rotateZ(${i}deg)`:""),h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.right(n,l),s.rotate3dtop=window._css3d?(t,e,i,l,h,a)=>{let r=s.top(l,a);return r[n]+=(t?` rotateX(${t}deg)`:" ")+(e?` rotateY(${e}deg)`:"")+(i?` rotateZ(${i}deg)`:""),h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.top(n,l),s.rotate3dbottom=window._css3d?(t,e,i,l,h,a)=>{let r=s.bottom(l,a);return r[n]+=(t?` rotateX(${t}deg)`:" ")+(e?` rotateY(${e}deg)`:"")+(i?` rotateZ(${i}deg)`:""),h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.bottom(n,l),s.rotate3dfront=window._css3d?(t,e,i,l,h,a)=>{let r=s.front(l,a);return r[n]+=(t?` rotateX(${t}deg)`:" ")+(e?` rotateY(${e}deg)`:"")+(i?` rotateZ(${i}deg)`:""),h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.front(n,l),s.rotate3dback=window._css3d?(t,e,i,l,h,a)=>{let r=s.back(l,a);return r[n]+=(t?` rotateX(${t}deg)`:" ")+(e?` rotateY(${e}deg)`:"")+(i?` rotateZ(${i}deg)`:""),h&&(r[o]=h),r}:(t,e,i,n,o,l)=>s.back(n,l),s.t=window._css3d?(t,e,i,l,h,a,r,d,p,c,u,m,f,g,y)=>{let b=!1===t?{}:{opacity:0},w="perspective(2000px) ";"n"!==e&&(w+=`translateX(${e*s.rf}px) `),"n"!==i&&(w+=`translateY(${i*s.rf}px) `),"n"!==l&&(w+=`translateZ(${l*s.rf}px) `),"n"!==h&&(w+=`rotate(${h}deg) `),"n"!==a&&(w+=`rotateX(${a}deg) `),"n"!==r&&(w+=`rotateY(${r}deg) `),"n"!==d&&(w+=`rotateZ(${d}deg) `),"n"!==u&&(w+=`skewX(${u}deg) `),"n"!==m&&(w+=`skewY(${m}deg) `),"n"!==p&&(w+=`scaleX(${p}) `),"n"!==c&&(w+=`scaleY(${c})`),b[n]=w;let x="";return x+="n"!==f?`${f}% `:"50% ",x+="n"!==g?`${g}% `:"50% ",x+="n"!==y?`${y}px`:"",b[o]=x,b}:(t,e,i,n,o)=>{var o=!1===t?{}:{opacity:0};return"n"!==e&&(o.left=`${e*s.rf}px`),"n"!==i&&(o.top=`${i*s.rf}px`),o}}}})(jQuery),(t=>{window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};let e=MSLayerElement.prototype;e.setStartAnim=function(e){t.extend(this.start_anim,e),t.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},e.setEndAnim=function(e){t.extend(this.end_anim,e)},e.create=function(){if(this.$element.css("display","none"),this.resizable=!1!==this.$element.data("resize"),this.fixed=!0===this.$element.data("fixed"),void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){let e=this.slide.slider.slideController;this.$element.on(this.$element.data("action-event")||"click",function(i){e.runAction(t(this).data("action")),i.preventDefault()}).addClass("ms-action-layer")}t.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider,this.masked&&(this.$mask=t("<div></div>").addClass("ms-layer-mask"),this.link?(this.link.wrap(this.$mask),this.$mask=this.link.parent()):(this.$element.wrap(this.$mask),this.$mask=this.$element.parent()),this.maskWidth&&this.$mask.width(this.maskWidth),this.maskHeight&&(this.$mask.height(this.maskHeight),this.__cssConfig.includes("height")||this.__cssConfig.push("height")));let i=this.layerOrigin=this.$element.data("origin");if(i){let s=i.charAt(0),n=i.charAt(1),o=this.$element.data("offset-x"),l=this.$element.data("offset-y"),h=this.masked?this.$mask[0]:this.$element[0];switch(void 0===l&&(l=0),s){case"t":h.style.top=`${l}px`;break;case"b":h.style.bottom=`${l}px`;break;case"m":h.style.top=`${l}px`,this.middleAlign=!0}switch(void 0===o&&(o=0),n){case"l":h.style.left=`${o}px`;break;case"r":h.style.right=`${o}px`;break;case"c":h.style.left=`${o}px`,this.centerAlign=!0}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=t("<div></div>").addClass("ms-parallax-layer"),this.masked?(this.$mask.wrap(this.$parallaxElement),this.$parallaxElement=this.$mask.parent()):this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&this.layerOrigin.includes("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),t.removeDataAttrs(this.$element,["data-src"])},e.init=function(){this.initialized=!0;let t;this.$element.css("visibility","");for(let e=0,i=this.__cssConfig.length;i>e;e++){let s=this.__cssConfig[e];if(this._isPosition(s)&&this.masked)t=this.$mask.css(s);else if("text"!==this.type||"width"!==s||this.masked||this.maskWidth){t=this.$element.css(s);let n="width"===s||"height"===s;n&&this.masked&&(this.maskWidth&&"width"===s?t=`${this.maskWidth}px`:this.maskHeight&&"height"===s&&(t=`${this.maskHeight}px`)),n&&"0px"===t&&(t=`${this.$element.data(s)}px`)}else t=this.$element[0].style.width;(!this.layerOrigin||("top"!==s||this.layerOrigin.includes("t")||this.layerOrigin.includes("m"))&&("bottom"!==s||this.layerOrigin.includes("b"))&&("left"!==s||this.layerOrigin.includes("l")||this.layerOrigin.includes("c"))&&("right"!==s||this.layerOrigin.includes("r")))&&"auto"!=t&&""!=t&&"normal"!=t&&(this.baseStyle[s]=parseInt(t))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},e.locate=function(){if(this.slide.ready){let t,e,i,s=parseFloat(this.layersCont.css("width")),n=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),this.staticLayer&&this.$element.addClass("ms-hover-active"),t=this.resizeFactor=s/this.slide.slider.options.width;let o=this.masked?this.$mask:this.$element;for(let l in this.baseStyle)e=this._isPosition(l),i="width"===l||"height"===l,t=this.fixed&&e?1:this.resizeFactor,(this.resizable||e)&&("top"===l&&this.middleAlign?(o[0].style.top="0px",this.baseHeight=o.outerHeight(!1),o[0].style.top=`${this.baseStyle.top*t+(n-this.baseHeight)/2}px`):"left"===l&&this.centerAlign?(o[0].style.left="0px",this.baseWidth=o.outerWidth(!1),o[0].style.left=`${this.baseStyle.left*t+(s-this.baseWidth)/2}px`):e&&this.masked?o[0].style[l]=`${this.baseStyle[l]*t}px`:i&&("width"===l&&this.maskWidth||"height"===l&&this.maskHeight)?o[0].style[l]=`${this.baseStyle[l]*t}px`:this.$element.css(l,`${this.baseStyle[l]*t}px`));this.visible(this.minWidth<s)}},e.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0,this.$element.removeClass("ms-hover-active");let t,e;MSLayerEffects.rf=this.resizeFactor;let i=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),s={};for(t in i)this._checkPosKey(t,i)||(null!=MSLayerEffects.defaultValues[t]&&(s[t]=MSLayerEffects.defaultValues[t]),t in this.baseStyle&&(e=this.baseStyle[t],this.middleAlign&&"top"===t&&(e+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===t&&(e+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),i[t]=`${e+parseFloat(i[t])}px`,s[t]=`${e}px`),this.$element.css(t,i[t]));let n=this;clearTimeout(this.to),clearTimeout(this.clHide),this.to=setTimeout(()=>{n.$element.css("visibility",""),n._playAnimation(n.start_anim,s)},n.start_anim.delay||.01),this.clTo=setTimeout(()=>{n.show_cl=!0,n.$element.addClass("ms-hover-active")},(this.start_anim.delay||.01)+this.start_anim.duration+1),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(()=>{n.hide()},n.end_anim.time))}},e.hide=function(){if(!this.staticLayer){this.$element.removeClass("ms-hover-active"),this.isShowing=!1;let t=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in t)this._checkPosKey(key,t)||(key===`${window._jcsspfx}TransformOrigin`&&this.$element.css(key,t[key]),key in this.baseStyle&&(t[key]=`${this.baseStyle[key]+parseFloat(t[key])}px`));this._playAnimation(this.end_anim,t),clearTimeout(this.clHide),0===t.opacity&&(this.clHide=setTimeout((function(){this.$element.css("visibility","hidden")}).on(this),this.end_anim.duration+1)),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},e.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},e.destroy=function(){this.reset(),this.$element.remove()},e.visible=function(t){this.isVisible!=t&&(this.isVisible=t,this.$element.css("display",t?"":"none"))},e.moveParallax=function(t,e,i){this._paraX=t,this._paraY=e,i&&(this._lastParaX=t,this._lastParaY=e,this.parallaxRender())},e._playAnimation=function({ease:t,duration:e},i){let s={};t&&(s.ease=t),s.transProperty=`${window._csspfx}transform,opacity`,this.show_tween&&this.show_tween.stop(!0),this.show_tween=CTween.animate(this.$element,e,i,s)},e._randomParam=t=>{let e=Number(t.slice(0,t.indexOf("|"))),i=Number(t.slice(t.indexOf("|")+1));return e+Math.random()*(i-e)},e._parseEff=t=>{let e=[];if(t.includes("(")){let i,s=t.slice(0,t.indexOf("(")).toLowerCase();e=t.slice(t.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),t=s;for(let n=0,o=e.length;o>n;++n)(i=e[n])in MSLayerEffects.presetEffParams&&(i=MSLayerEffects.presetEffParams[i]),e[n]=i}return{eff_name:t,eff_params:e}},e._parseEffParams=function(t){for(var e=[],i=0,s=t.length;s>i;++i){let n=t[i];"string"==typeof n&&n.includes("|")&&(n=this._randomParam(n)),e[i]=n}return e},e._checkPosKey=function(t,e){return"left"===t&&!(t in this.baseStyle)&&"right"in this.baseStyle?(e.right=`${-parseInt(e.left)}px`,delete e.left,!0):"top"===t&&!(t in this.baseStyle)&&"bottom"in this.baseStyle&&(e.bottom=`${-parseInt(e.top)}px`,delete e.top,!0)},e._isPosition=t=>"top"===t||"left"===t||"bottom"===t||"right"===t,e._parallaxCalc=function(){let t=this._paraX-this._lastParaX,e=this._paraY-this._lastParaY;this._lastParaX+=t/12,this._lastParaY+=e/12,.019>Math.abs(t)&&(this._lastParaX=this._paraX),.019>Math.abs(e)&&(this._lastParaY=this._paraY)},e._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[`${window._jcsspfx}Transform`]=`translateX(${this._lastParaX*this.parallax}px) translateY(${this._lastParaY*this.parallax}px) translateZ(0)`},e._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[`${window._jcsspfx}Transform`]=`translateX(${this._lastParaX*this.parallax}px) translateY(${this._lastParaY*this.parallax}px)`},e._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=`${this._lastParaY*this.parallax}px`:this.$parallaxElement[0].style.top=`${this._lastParaY*this.parallax}px`,this.$parallaxElement[0].style.left=`${this._lastParaX*this.parallax}px`}})(jQuery),(t=>{window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);let e=MSImageLayerElement.prototype,i=MSLayerElement.prototype;e.create=function(){if(this.link){let e=this.$element.parent();e.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),e=null}if(i.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{let s=this;this.$element.on("load",()=>{s.controller.preloadCount--,0===s.controller.preloadCount&&s.controller._onlayersReady()}).each(t.jqLoadFix)}t.browser.msie&&this.$element.on("dragstart",t=>{t.preventDefault()})},e.loadImage=function(){let t=this;this.$element.preloadImg(this.img_src,()=>{t.controller.preloadCount--,0===t.controller.preloadCount&&t.controller._onlayersReady()})}})(jQuery),(t=>{window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);let e=MSVideoLayerElement.prototype,i=MSLayerElement.prototype;e.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),this.video_url.includes("?")||(this.video_url+="?"),this.video_frame.attr("src",`${this.video_url}&autoplay=1`)},e.start=function(){i.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},e.reset=function(){return i.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},e.create=function(){i.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");let e=0!=this.$element.has("img").length;if(e||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var s=this;if(this.video_btn=t("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(()=>{s.__playVideo()}),e){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var s=this;this.img.attr("src",this.img_src).on("load",()=>{s.controller.preloadCount--,0===s.controller.preloadCount&&s.controller._onlayersReady()}).each(t.jqLoadFix)}t.browser.msie&&this.img.on("dragstart",t=>{t.preventDefault()})}}},e.loadImage=function(){let t=this;this.img.preloadImg(this.img_src,()=>{t.controller.preloadCount--,0===t.controller.preloadCount&&t.controller._onlayersReady()})}})(jQuery),(t=>{window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);let e=MSHotspotLayer.prototype,i=MSLayerElement.prototype;e._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:`easeOut${this.ease}`}),this.hide_start=!1))},e._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);let t=this;clearTimeout(this.hto),this.hto=setTimeout(()=>{t.hide_start=!0,t._tween=CTween.animate(t.tt,900,t.from,{ease:`easeOut${t.ease}`,complete(){t.tt.css("display","none")}})},200)}},e._updateClassName=function(t){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(t),this._lastClass=t},e._alignPolicy=function(){var t=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),e=window.innerWidth;switch(window.innerHeight,this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+t>e||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},e._locateTT=function(){let t=this.$element.offset(),e=this.slide.slider.$element.offset(),i=50,s=15;this.pos_x=t.left-e.left-this.slide.slider.$element.scrollLeft(),this.pos_y=t.top-e.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName(`ms-tooltip-${this.align}`),this.tt_arrow.css("margin-left","");let n=15,o=15;switch(this.align){case"top":var l=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-o-s,this.base_l=this.pos_x-l/2,this.base_l+l>window.innerWidth&&(this.tt_arrow.css("margin-left",`${-n/2+this.base_l+l-window.innerWidth}px`),this.base_l=window.innerWidth-l),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",`${-n/2+this.pos_x-this.tt.outerWidth(!1)/2}px`)),window._css3d?(this.from[`${window._jcsspfx}Transform`]=`translateY(-${i}px)`,this.to[`${window._jcsspfx}Transform`]=""):(this.from.top=`${this.base_t-i}px`,this.to.top=`${this.base_t}px`);break;case"bottom":var l=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+o+s,this.base_l=this.pos_x-l/2,this.base_l+l>window.innerWidth&&(this.tt_arrow.css("margin-left",`${-n/2+this.base_l+l-window.innerWidth}px`),this.base_l=window.innerWidth-l),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",`${-n/2+this.pos_x-this.tt.outerWidth(!1)/2}px`)),window._css3d?(this.from[`${window._jcsspfx}Transform`]=`translateY(${i}px)`,this.to[`${window._jcsspfx}Transform`]=""):(this.from.top=`${this.base_t+i}px`,this.to.top=`${this.base_t}px`);break;case"right":this.base_l=this.pos_x+n+s,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[`${window._jcsspfx}Transform`]=`translateX(${i}px)`,this.to[`${window._jcsspfx}Transform`]=""):(this.from.left=`${this.base_l+i}px`,this.to.left=`${this.base_l}px`);break;case"left":this.base_l=this.pos_x-n-this.tt.outerWidth(!1)-s,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[`${window._jcsspfx}Transform`]=`translateX(-${i}px)`,this.to[`${window._jcsspfx}Transform`]=""):(this.from.left=`${this.base_l-i}px`,this.to.left=`${this.base_l}px`)}let h=this._alignPolicy();return null!==h?(this.align=h,void this._locateTT()):(this.tt.css("top",`${parseInt(this.base_t)}px`).css("left",`${parseInt(this.base_l)}px`),void this.tt.css(this.from))},e.start=function(){i.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},e.reset=function(){i.reset.call(this),this.tt.detach()},e.create=function(){let e=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",()=>{e._showTT()}).on("mouseleave",()=>{e._hideTT()}),this.point=t('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);let s=this.$element.data("link"),n=this.$element.data("target");s&&this.point.on("click",()=>{window.open(s,n||"_self")}),this.tt=t("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=t("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName(`ms-tooltip-${this.align}`),this.ttcont=t("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),!0===this.$element.data("stay-hover")&&this.tt.on("mouseenter",()=>{e.hide_start||(clearTimeout(e.hto),e._tween.stop(!0),e._showTT())}).on("mouseleave",()=>{e._hideTT()}),i.create.call(this)}})(jQuery),(()=>{window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);let t=MSButtonLayer.prototype,e=MSLayerElement.prototype,i=["top","left","bottom","right"];t.create=function(){e.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},t.locate=function(){e.locate.call(this);for(let t,s,n=0;4>n;n++)(t=i[n])in this.baseStyle&&(s=this.$element.css(t),this.$element.css(t,""),this.$container.css(t,s));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}})(jQuery),window.MSSliderEvent=function(t){this.type=t},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",((t,e,i)=>{t.MSSlide=function(){this.$element=null,this.$loading=i("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=i.browser.mozilla};let s=MSSlide.prototype;s.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},s.onSwipeMove=function({data:t}){let e=Math.max(Math.abs(t.distanceX),Math.abs(t.distanceY));this.swipeMoved=e>4},s.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void(this.video&&(this.videodis=!1)))},s.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},s.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},s.setBG=function(t){this.hasBG=!0;let e=this;this.$imgcont=i("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=i(t).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(e.fillMode,e.$imgcont,e.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,e.slider.options.autoHeight&&(e.pselected||e.selected)&&e.slider.setHeight(e.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",t=>{e._onBGLoad(t)}).each(i.jqLoadFix)},s.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},s.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){let t=this;this.$bg_img.preloadImg(this.bg_src,e=>{t._onBGLoad(e)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},s._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},s._onBGLoad=function({width:t,height:e}){this.bgNatrualWidth=t,this.bgNatrualHeight=e,this.bgLoaded=!0,i.browser.msie&&this.$bg_img.on("dragstart",t=>{t.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},s.setBGVideo=function(e){if(e[0].play){if(t._mobile&&!this.slider.options.mobileBGVideo)return void e.remove();this.bgvideo=e[0];let s=this;e.addClass("ms-slide-bgvideo"),!1!==e.data("loop")&&this.bgvideo.addEventListener("ended",()=>{s.bgvideo.play()}),!1!==e.data("mute")&&(this.bgvideo.muted=!0),!0===e.data("autopause")&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=e.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,e),this.bgvideo.addEventListener("loadedmetadata",()=>{s.vinit||(s.vinit=!0,s.video_aspect=s.bgVideoAligner.baseHeight/s.bgVideoAligner.baseWidth,s.bgVideoAligner.init(s.bgvideo.videoWidth,s.bgvideo.videoHeight),s._alignBGVideo(),CTween.fadeIn(i(s.bgvideo),200),s.selected&&s.bgvideo.play())})),e.css("opacity",0),this.$bgvideocont=i("<div></div>").addClass("ms-slide-bgvideocont").append(e),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},s._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},s.setSize=function(t,e,i){this.__width=t,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,e=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(e)):(this.ratio=t/this.slider.options.width,e=this.slider.options.height*this.ratio)),this.__height=e,this.$element.width(t).height(e),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(t,e,i)},s.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},s.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",`${this.video}&autoplay=1`),this.view.$element.addClass("ms-def-cursor"),this.moz&&this.view.$element.css("perspective","none"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},s.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();let t=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete(){t.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete(){t.vframe.attr("src","about:blank").css("display","none")}}),this.moz&&this.view.$element.css("perspective",""),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},s.create=function(){let e=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(t=>{e.linkdis&&t.preventDefault()}),this.video&&(this.video.includes("?")||(this.video+="?"),this.vframe=i("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=i("<div></div>").addClass("ms-slide-vpbtn").click(()=>{e.__playVideo()}).appendTo(this.$element),this.vcbtn=i("<div></div>").addClass("ms-slide-vcbtn").click(()=>{e.__closeVideo()}).appendTo(this.$element).css("display","none"),t._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},s.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},s.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},s.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},s.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},s.sleep=function(t){(!this.isSleeping||t)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},s.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}})(window,document,jQuery),(t=>{let e={};window.MSSlideController=function(t){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=t,this.so=t.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=(t,i)=>{if(t in e)throw Error(`${t}, is already registered.`);e[t]=i},MSSlideController.SliderControlList={},MSSlideController.registerControl=(t,e)=>{if(t in MSSlideController.SliderControlList)throw Error(`${t}, is already registered.`);MSSlideController.SliderControlList[t]=e};let i=MSSlideController.prototype;i.setupView=function(){var i=this;this.resize_listener=()=>{i.__resize()};let s={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&t.extend(s,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);let n=e[this.slider.options.view]||MSBasicView;if(n._3dreq&&(!window._css3d||t.browser.msie)&&(n=n._fallback||MSBasicView),this.view=new n(s),this.so.overPause){var i=this;this.slider.$element.on("mouseenter",()=>{i.is_over=!0,i._stopTimer()}).on("mouseleave",()=>{i.is_over=!1,i._startTimer()})}},i.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},i.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){let t,e,i,s=this.so.preload-1;for(e=1;s>=e;++e){if((t=this.view.index+e)>=this.view.slideList.length){if(!this.so.loop){e=s;continue}t-=this.view.slideList.length}(i=this.view.slideList[t])&&i.loadImages()}for(s>this.view.slideList.length/2&&(s=Math.floor(this.view.slideList.length/2)),e=1;s>=e;++e){if(0>(t=this.view.index-e)){if(!this.so.loop){e=s;continue}t=this.view.slideList.length+t}(i=this.view.slideList[t])&&i.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},i.onSwipeStart=function(){this.skipTimer()},i.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},i.onTimer=function(){if(this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300){let t=this.view.currentSlide;t.hasLayers&&t.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},i._stopTimer=function(){this._timer&&this._timer.stop()},i._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},i.__appendSlides=function(){let t,e,i=0,s=this.view.slideList.length-1;for(;s>i;++i)(t=this.view.slideList[i]).detached||(t.$element.detach(),t.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),s=3,i=1;s>=i;++i){if((e=this.view.index+i)>=this.view.slideList.length){if(!this.so.loop){i=s;continue}e-=this.view.slideList.length}(t=this.view.slideList[e]).detached=!1,this.view.appendSlide(t)}for(s>this.view.slideList.length/2&&(s=Math.floor(this.view.slideList.length/2)),i=1;s>=i;++i){if(0>(e=this.view.index-i)){if(!this.so.loop){i=s;continue}e=this.view.slideList.length+e}(t=this.view.slideList[e]).detached=!1,this.view.appendSlide(t)}},i.__resize=function(t){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,t),this.view.setSize(this.width,this.currentSlide.getHeight(),t)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),t),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",`${Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)}px`),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},i.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},i.__updateWindowHash=function(){let t=window.location.hash,e=this.so.deepLink,i=this.so.deepLinkType,s="path"===i?"/":"=",n="path"===i?"/":"&",o=e+s+(this.view.index+1),l=RegExp(`${e+s}[0-9]+`,"g");window.location.hash=""===t?n+o:l.test(t)?t.replace(l,o):t+n+o},i.__curentSlideInHash=function(){let t=window.location.hash,e=this.so.deepLink,i=this.so.deepLinkType,s="path"===i?"/":"=",n=RegExp(`${e+s}[0-9]+`,"g");if(n.test(t)){let o=Number(t.match(n)[0].match(/[0-9]+/g).pop());if(!isNaN(o))return o-1}return -1},i.__onHashChanged=function(){let t=this.__curentSlideInHash();-1!==t&&this.gotoSlide(t)},i.__findLayerById=function(t){if(!this.currentSlide)return null;let e;return this.currentSlide.layerController&&(e=this.currentSlide.layerController.getLayerById(t)),!e&&this.slider.overlayLayers?this.slider.overlayLayers.layerController.getLayerById(t):e},i.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();let e=this.__curentSlideInHash(),i=-1!==e?e:this.so.start-1;if(this.view.create(i),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var s=this;let n=new Date().getTime();this.wheellistener=e=>{let i=window.event||e.orginalEvent||e;i.preventDefault();let o=new Date().getTime();if(!(400>o-n)){n=o;let l=Math.abs(i.detail||i.wheelDelta);t.browser.mozilla&&(l*=100);let h=15;return i.detail<0||i.wheelDelta>0?l>=h&&s.previous(!0):l>=h&&s.next(!0),!1}},t.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.on("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var s=this;this.so.deepLink&&t(window).on("hashchange",()=>{s.__onHashChanged()})},i.index=function(){return this.view.index},i.count=function(){return this.view.slidesCount},i.next=function(t){this.skipTimer(),this.view.next(t)},i.previous=function(t){this.skipTimer(),this.view.previous(t)},i.gotoSlide=function(t){t=Math.min(t,this.count()-1),this.skipTimer(),this.view.gotoSlide(t)},i.destroy=function(t){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(t)},i._destroy=function(){this._timer.reset(),this._timer=null,t(window).off("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(t.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.off("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},i.runAction=function(t){let e=[];if(t.includes("(")){let i=t.slice(0,t.indexOf("("));e=t.slice(t.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),t=i}t in this?this[t](...e):console},i.update=function(t){this.slider.init_safemode&&t&&(this.slider.init_safemode=!1),this.__resize(t),t&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},i.locate=function(){this.__resize()},i.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},i.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},i.currentTime=function(){return this._delayProgress},i.showLayer=function(t,e){let i=this.__findLayerById(t);i&&(e?(clearTimeout(i.actionTimeout),i.actionTimeout=setTimeout(this.showLayer,e,t,0)):i.start())},i.hideLayer=function(t,e){let i=this.__findLayerById(t);i&&(e?(clearTimeout(i.actionTimeout),i.actionTimeout=setTimeout(this.hideLayer,e,t,0)):i.hide())},i.toggleLayer=function(t,e){let i=this.__findLayerById(t);i&&(e?(clearTimeout(i.actionTimeout),i.actionTimeout=setTimeout(this.toggleLayer,e,t,0)):i.isShowing?i.hide():i.start())},i.showLayers=function(e,i){let s=this;t.each(e.replace(/\s+/g,"").split("|"),(t,e)=>{s.showLayer(e,i)})},i.hideLayers=function(e,i){let s=this;t.each(e.replace(/\s+/g,"").split("|"),(t,e)=>{s.hideLayer(e,i)})},i.toggleLayers=function(e,i){let s=this;t.each(e.replace(/\s+/g,"").split("|"),(t,e)=>{s.toggleLayer(e,i)})},averta.EventDispatcher.extend(i)})(jQuery),(t=>{let e={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={forceInit:!0,autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,mobileBGVideo:!1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;let e=this;this.resize_listener=()=>{e._resize()},t(window).on("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.51.2",MasterSlider.releaseDate="Jun 2017",MasterSlider._plugins=[];let i=MasterSlider;i.registerPlugin=t=>{i._plugins.includes(t)||i._plugins.push(t)};let s=MasterSlider.prototype;s.__setupSlides=function(){let e,i=this,s=0;this.$element.children(".ms-slide").each(function(){let n=t(this);(e=new MSSlide).$element=n,e.slider=i,e.delay=void 0!==n.data("delay")?n.data("delay"):3,e.fillMode=void 0!==n.data("fill-mode")?n.data("fill-mode"):i.options.fillMode,e.index=s++,e.id=n.data("id");let o=n.children("img:not(.ms-layer)");o.length>0&&e.setBG(o[0]);let l=n.children("video");if(l.length>0&&e.setBGVideo(l),i.controls)for(let h=0,a=i.controls.length;a>h;++h)i.controls[h].slideAction(e);n.children("a").each(function(){let i=t(this);"video"===this.getAttribute("data-type")?(e.video=this.getAttribute("href"),e.videoAutoPlay=i.data("autoplay"),i.remove()):i.hasClass("ms-layer")||(e.link=t(this))}),i.__createSlideLayers(e,n.find(".ms-layer")),i.slides.push(e),i.slideController.view.addSlide(e)})},s._setupOverlayLayers=function(){let t=this,e=this.$element.children(".ms-overlay-layers").eq(0);if(e.length){let i=new MSOverlayLayers(this);i.$element=e,t.__createSlideLayers(i,e.find(".ms-layer")),this.view.$element.prepend(e),this.overlayLayers=i,i.create()}},s.__createSlideLayers=(i,s)=>{0!=s.length&&(i.setupLayerController(),s.each(function(s,{nodeName:n}){let o,l=t(this);"A"===n&&"image"===l.find(">img").data("type")&&(l=(o=t(this)).find("img"));let h=new e[l.data("type")||"text"];h.$element=l,h.link=o,h.id=h.$element.data("id"),h.waitForAction=h.$element.data("wait"),h.masked=h.$element.data("masked"),h.maskWidth=h.$element.data("mask-width"),h.maskHeight=h.$element.data("mask-height");let a={},r={};void 0!==l.data("effect")&&(a.name=l.data("effect")),void 0!==l.data("ease")&&(a.ease=l.data("ease")),void 0!==l.data("duration")&&(a.duration=l.data("duration")),void 0!==l.data("delay")&&(a.delay=l.data("delay")),l.data("hide-effect")&&(r.name=l.data("hide-effect")),l.data("hide-ease")&&(r.ease=l.data("hide-ease")),void 0!==l.data("hide-duration")&&(r.duration=l.data("hide-duration")),void 0!==l.data("hide-time")&&(r.time=l.data("hide-time")),h.setStartAnim(a),h.setEndAnim(r),i.layerController.addLayer(h)}))},s._removeLoading=function(){t(window).off("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},s._resize=function(){if(this.$loading){let t=this.$loading[0].clientWidth/this.aspect;t=this.options.heightLimit?Math.min(t,this.options.height):t,this.$loading.height(t),this.$element.height(t)}},s._shuffleSlides=function(){for(let t,e=this.$element.children(".ms-slide"),i=0,s=e.length;s>i;++i)i!=(t=Math.floor(Math.random()*(s-1)))&&(this.$element[0].insertBefore(e[i],e[t]),e=this.$element.children(".ms-slide"))},s._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;let e=this.options.layout;"boxed"!==e&&"partialview"!==e&&(this.options.fullwidth=!0),("fullscreen"===e||"autofill"===e)&&(this.options.fullheight=!0,"autofill"===e&&(this.$autofillTarget=t(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===e&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===e||"fullwidth"===e||"autofill"===e)&&(t(window).on("resize",{that:this},this._updateLayout),this._updateLayout()),t(window).on("resize",this.slideController.resize_listener)},s._updateLayout=function(e){let i=e?e.data.that:this,s=i.options.layout,n=i.$element,o=t(window);if("fullscreen"===s)document.body.style.overflow="hidden",n.height(o.height()-i.options.fullscreenMargin-i.topSpace-i.bottomSpace),document.body.style.overflow="";else if("autofill"===s)return void n.height(i.$autofillTarget.height()-i.options.fullscreenMargin-i.topSpace-i.bottomSpace).width(i.$autofillTarget.width()-i.leftSpace-i.rightSpace);n.width(o.width()-i.leftSpace-i.rightSpace);let l=-n.offset().left+i.leftSpace+i.lastMargin;n.css("margin-left",l),i.lastMargin=l},s._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=t("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",`${this.options.width}px`),this.$controlsCont.prepend(this.view.$element),this.$msContainer=t("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var e=0,i=this.controls.length;i>e;++e)this.controls[e].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this._setupOverlayLayers(),this.controls)for(e=0,i=this.controls.length;i>e;++e)this.controls[e].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){let s=this.view.$element;s.mousedown(()=>{s.removeClass("ms-grab-cursor"),s.addClass("ms-grabbing-cursor"),t.browser.msie&&window.ms_grabbing_curosr&&(s[0].style.cursor=`url(${window.ms_grabbing_curosr}), move`)}).addClass("ms-grab-cursor"),t(document).mouseup(()=>{s.removeClass("ms-grabbing-cursor"),s.addClass("ms-grab-cursor"),t.browser.msie&&window.ms_grab_curosr&&(s[0].style.cursor=`url(${window.ms_grab_curosr}), move`)})}this.slideController.__dispatchInit()}},s.setHeight=function(t){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:t},{ease:"easeOutQuart"})):this.slideController.view.$element.height(t)},s.reserveSpace=function(t,e){let i=`${t}Space`,s=this[i];return this[i]+=e,this._updateSideMargins(),s},s._updateSideMargins=function(){this.$element.css("margin",`${this.topSpace}px ${this.rightSpace}px ${this.bottomSpace}px ${this.leftSpace}px`)},s._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},s.control=function(t,e){if(t in MSSlideController.SliderControlList){this.controls||(this.controls=[]);let i=new MSSlideController.SliderControlList[t](e);return i.slider=this,this.controls.push(i),this}},s.holdOn=function(){this._holdOn++},s.release=function(){this._holdOn--,this._init()},s.setup=function(e,s){if(this.$element="string"==typeof e?t(`#${e}`):e.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),t.browser.msie?this.$element.addClass("ms-ie").addClass(`ms-ie${t.browser.version.slice(0,t.browser.version.indexOf("."))}`):t.browser.webkit?this.$element.addClass("ms-wk"):t.browser.mozilla&&this.$element.addClass("ms-moz");let n=navigator.userAgent.toLowerCase(),o=n.includes("android");o&&this.$element.addClass("ms-android");let l=this;t.extend(this.options,s),this.aspect=this.options.width/this.options.height,this.$loading=t("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(t("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(let h=0,a=i._plugins.length;h!==a;h++){let r=i._plugins[h];this.options.disablePlugins.includes(r.name)||this.activePlugins.push(new r(this))}return this.options.forceInit&&MasterSlider.addJQReadyErrorCheck(this),t(document).ready(()=>{l.initialized||(l._docReady=!0,l._init())}),this}},s.destroy=function(e){for(var i=0,s=this.activePlugins.length;i!==s;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,s=this.controls.length;i!==s;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),e?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();let n=this.options.layout;("fullscreen"===n||"fullwidth"===n)&&t(window).off("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}})(jQuery),((t,e,i,s)=>{function n(e,i){this.element=e,this.$element=t(e),this.settings=t.extend({},l,i),this._defaults=l,this._name=o,this.init()}var o="masterslider",l={controls:{}};t.extend(n.prototype,{init(){let t=this;for(let e in this._slider=new MasterSlider,this.settings.controls)this._slider.control(e,this.settings.controls[e]);this._slider.setup(this.$element,this.settings);let i=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(e){t.$element.trigger(e.type),i.call(this,e)}},api(){return this._slider.api},slider(){return this._slider}}),t.fn[o]=function(e){let i=arguments,l=`plugin_${o}`;if(e===s||"object"==typeof e)return this.each(function(){t.data(this,l)||t.data(this,l,new n(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){let h;return this.each(function(){let s=t.data(this,l);s instanceof n&&"function"==typeof s[e]&&(h=s[e](...Array.prototype.slice.call(i,1))),s instanceof n&&"function"==typeof s._slider.api[e]&&(h=s._slider.api[e](...Array.prototype.slice.call(i,1))),"destroy"===e&&t.data(this,l,null)}),h!==s?h:this}}})(jQuery,window,document),(({fn:t},e)=>{let i=[];MasterSlider.addJQReadyErrorCheck=t=>{i.push(t)};let s=t.ready,n=e.onerror;t.ready=function(...t){return e.onerror=function(...t){if(0!==i.length)for(let e=0,s=i.length;e!==s;e++){let o=i[e];o.initialized||(o._docReady=!0,o._init())}return!!n&&n.apply(this,t)},s.apply(this,t)}})(jQuery,window,document),window.MSViewEvents=function(t,e){this.type=t,this.data=e},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",(t=>{window.MSBasicView=function(e){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},t.extend(this.options,e),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=t("<div></div>").addClass("ms-slide-container"),this.$element=t("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};let e=MSBasicView.prototype;e.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},e.__snapUpdate=function(e,i,s){if(this.loop){let n=this.index+s;this.updateLoop(n),n>=this.slidesCount&&(n-=this.slidesCount),0>n&&(n=this.slidesCount+n),this.index=n}else{if(0>i||i>=this.slidesCount)return;this.index=i}this._checkCritMargins(),t.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));let o=this.slideList[this.index];o!==this.currentSlide&&(this.currentSlide=o,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},e._checkCritMargins=function(){if(!this.normalMode){let t=Math.floor(this.options.viewNum/2),e=this.viewSlidesList.indexOf(this.slideList[this.index]),i=this[this.__dimension]+this.spacing,s=this.options.critMargin;return this.loop?void((s>=e||e>=this.viewSlidesList.length-s)&&(i*=e-t,this.__locateSlides(!1,i+this.start_buffer),this.start_buffer+=i)):void((s>e&&this.index>=s||e>=this.viewSlidesList.length-s&&this.index<this.slidesCount-s)&&this.__locateSlides(!1))}},e._vertiUpdate=function(t,e){return this.__contPos=e,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[`${window._jcsspfx}Transform`]=`translateY(${-e}px)${this.__translate_end}`):void(this.$slideCont[0].style.top=`${-e}px`)},e._horizUpdate=function(t,e){return this.__contPos=e,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[`${window._jcsspfx}Transform`]=`translateX(${-e}px)${this.__translate_end}`):void(this.$slideCont[0].style.left=`${-e}px`)},e.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);let t=this.viewSlidesList.slice();this.viewSlidesList=[];let e,i=0,s=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-s+i]);else{for(i=0;i!==s&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==s&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,e=t.length;i!==e;i++)this.viewSlidesList.includes(t[i])||t[i].sleep();t=null,this.currentSlide&&this.__updateSlidesZindex()},e.__locateSlides=function(t,e){this.__updateViewList(),e=this.loop?e||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(let i,s=this.viewSlidesList.length,n=0;n!==s;n++){let o=e+n*(this[this.__dimension]+this.spacing);(i=this.viewSlidesList[n]).wakeup(),i.position=o,i.$element[0].style[this.__cssProb]=`${o}px`}!1!==t&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},e.__createLoopList=function(){let t=[],e=0,i=this.slidesCount/2,s=this.slidesCount%2==0?i-1:Math.floor(i),n=this.slidesCount%2==0?i:Math.floor(i);for(this.currentSlideLoc=s,e=1;s>=e;++e)t.unshift(this.slideList[this.index-e<0?this.slidesCount-e+this.index:this.index-e]);for(t.push(this.slideList[this.index]),e=1;n>=e;++e)t.push(this.slideList[this.index+e>=this.slidesCount?this.index+e-this.slidesCount:this.index+e]);return t},e.__getSteps=function(t,e){let i=t>e?this.slidesCount-t+e:e-t,s=Math.abs(this.slidesCount-i);return s>i?i:-s},e.__pushEnd=function(){let t=this.slides.shift(),e=this.slides[this.slidesCount-2];if(this.slides.push(t),this.normalMode){let i=e.$element[0][this.__offset]+this.spacing+this[this.__dimension];t.$element[0].style[this.__cssProb]=`${i}px`,t.position=i}},e.__pushStart=function(){let t=this.slides.pop(),e=this.slides[0];if(this.slides.unshift(t),this.normalMode){let i=e.$element[0][this.__offset]-this.spacing-this[this.__dimension];t.$element[0].style[this.__cssProb]=`${i}px`,t.position=i}},e.__updateSlidesZindex=function(){var t,e=this.viewSlidesList.length;if(this.loop)for(var i=this.viewSlidesList.indexOf(this.currentSlide),s=0;s!==e;s++)t=this.viewSlidesList[s],this.viewSlidesList[s].$element.css("z-index",i>=s?s+1:e-s);else{for(let n=this.currentSlide.index-this.viewSlidesList[0].index,o=0;o!==e;o++)this.viewSlidesList[o].$element.css("z-index",n>=o?o+1:e-o);this.currentSlide.$element.css("z-index",e)}},e.addSlide=function(t){t.view=this,this.slides.push(t),this.slideList.push(t),this.slidesCount++},e.appendSlide=function({$element:t}){this.$slideCont.append(t)},e.updateLoop=function(t){if(this.loop)for(let e=this.__getSteps(this.index,t),i=0,s=Math.abs(e);s>i;++i)0>e?this.__pushStart():this.__pushEnd()},e.gotoSlide=function(t,e){this.updateLoop(t),this.index=t;let i=this.slideList[t];this._checkCritMargins(),this.controller.changeTo(i.position,!e,null,null,!1),i!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=i,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),e&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},e.next=function(t){return t&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},e.previous=function(t){return t&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},e.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";let t=this;this.swipeControl.onSwipe="h"===this.dir?e=>{t.horizSwipeMove(e)}:e=>{t.vertSwipeMove(e)}},e.vertSwipeMove=function(t){let e=t.phase;if("start"===e)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,t));else if("move"===e&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+t.moveY)<this.cont_size/2))this.controller.drag(t.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,t));else if("end"===e||"cancel"===e){let i=t.distanceY/t.duration*50/3,s=Math.abs(t.distanceY/t.duration*50/3);Math.abs(i)>.1&&Math.abs(i)>=s?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,t))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,t)))}},e.horizSwipeMove=function(t){let e=t.phase;if("start"===e)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,t));else if("move"===e&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+t.moveX)<this.cont_size/2))this.controller.drag(t.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,t));else if("end"===e||"cancel"===e){let i=t.distanceX/t.duration*50/3,s=Math.abs(t.distanceY/t.duration*50/3);Math.abs(i)>.1&&Math.abs(i)>=s?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,t))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,t)))}},e.setSize=function(t,e,i){if(this.lastWidth!==t||e!==this.lastHeight||i){this.$element.width(t).height(e);for(let s=0;s<this.slidesCount;++s)this.slides[s].setSize(t,e,i);this.__width=t,this.__height=e,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=t,this.lastHeight=e)}},e.create=function(t){this.__created=!0,this.index=Math.min(t||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(let e=0;e<this.slidesCount;++e)this.slides[e].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},e.destroy=function(){if(this.__created){for(let t=0;t<this.slidesCount;++t)this.slides[t].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(e),MSSlideController.registerView("basic",MSBasicView)})(jQuery),(()=>{window.MSWaveView=function(t){MSBasicView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(`${window._csspfx}transform-style`,"preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;let t=MSWaveView.prototype,e=MSBasicView.prototype;t._horizUpdate=function(t,i){e._horizUpdate.call(this,t,i);for(let s,n,o=-i,l=0;l<this.slidesCount;++l)n=-o-(s=this.slideList[l]).position,this.__updateSlidesHoriz(s,n)},t._vertiUpdate=function(t,i){e._vertiUpdate.call(this,t,i);for(let s,n,o=-i,l=0;l<this.slidesCount;++l)n=-o-(s=this.slideList[l]).position,this.__updateSlidesVertic(s,n)},t.__updateSlidesHoriz=function({$element:t},e){let i=Math.abs(100*e/this.__width);t[0].style[`${window._csspfx}transform`]=`translateZ(${-(3*i)}px) rotateY(0.01deg)`},t.__updateSlidesVertic=function(t,e){this.__updateSlidesHoriz(t,e)},MSSlideController.registerView("wave",MSWaveView)})(jQuery),(()=>{window.MSFadeBasicView=function(t){MSWaveView.call(this,t),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);var t=MSFadeBasicView.prototype;MSFadeBasicView.prototype,t.__updateSlidesHoriz=function({$element:t},e){let i=Math.abs(.6*e/this.__width);i=1-Math.min(i,.6),t.css("opacity",i)},t.__updateSlidesVertic=function(t,e){this.__updateSlidesHoriz(t,e)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView})(),(()=>{window.MSFadeWaveView=function(t){MSWaveView.call(this,t),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var t=MSFadeWaveView.prototype;MSWaveView.prototype,t.__updateSlidesHoriz=function({$element:t},e){let i=Math.abs(100*e/this.__width);i=Math.min(i,100),t.css("opacity",1-i/300),t[0].style[`${window._jcsspfx}Transform`]=`scale(${1-i/800}) rotateY(0.01deg) `},t.__updateSlidesVertic=function(t,e){this.__updateSlidesHoriz(t,e)},MSSlideController.registerView("fadeWave",MSFadeWaveView)})(),(()=>{window.MSFlowView=function(t){MSWaveView.call(this,t),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var t=MSFlowView.prototype;MSWaveView.prototype,t.__updateSlidesHoriz=function({$element:t},e){let i=Math.abs(100*e/this.__width),s=Math.min(.3*i,30)*(0>e?-1:1),n=1.2*i;t[0].style[`${window._jcsspfx}Transform`]=`translateZ(${-(5*n)}px) rotateY(${s}deg) `},t.__updateSlidesVertic=function({$element:t},e){let i=Math.abs(100*e/this.__width),s=Math.min(.3*i,30)*(0>e?-1:1),n=1.2*i;t[0].style[`${window._jcsspfx}Transform`]=`translateZ(${-(5*n)}px) rotateX(${-s}deg) `},MSSlideController.registerView("flow",MSFlowView)})(jQuery),(()=>{window.MSFadeFlowView=function(t){MSWaveView.call(this,t),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var t=MSFadeFlowView.prototype;MSWaveView.prototype,t.__calculate=function(t){let e=Math.min(Math.abs(100*t/this.__width),100),i=Math.min(.5*e,50)*(0>t?-1:1);return{value:e,rvalue:i}},t.__updateSlidesHoriz=function({$element:t},e){let i=this.__calculate(e);t.css("opacity",1-i.value/300),t[0].style[`${window._jcsspfx}Transform`]=`translateZ(${-i.value}px) rotateY(${i.rvalue}deg) `},t.__updateSlidesVertic=function({$element:t},e){let i=this.__calculate(e);t.css("opacity",1-i.value/300),t[0].style[`${window._jcsspfx}Transform`]=`translateZ(${-i.value}px) rotateX(${-i.rvalue}deg) `},MSSlideController.registerView("fadeFlow",MSFadeFlowView)})(),(t=>{window.MSMaskView=function(t){MSBasicView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);let e=MSMaskView.prototype,i=MSBasicView.prototype;e.addSlide=function(e){e.view=this,e.$frame=t("<div></div>").addClass("ms-mask-frame").append(e.$element),e.$element[0].style.position="relative",e.autoAppend=!1,this.slides.push(e),this.slideList.push(e),this.slidesCount++},e.setSize=function(t,e){for(let s=this.slides[0].slider,n=0;n<this.slidesCount;++n)this.slides[n].$frame[0].style.width=`${t}px`,s.options.autoHeight||(this.slides[n].$frame[0].style.height=`${e}px`);i.setSize.call(this,t,e)},e._horizUpdate=function(t,e){i._horizUpdate.call(this,t,e);let s=0;if(this.css3)for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style[`${window._jcsspfx}Transform`]=`translateX(${e-this.slideList[s].position}px)${this.__translate_end}`;else for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style.left=`${e-this.slideList[s].position}px`},e._vertiUpdate=function(t,e){i._vertiUpdate.call(this,t,e);let s=0;if(this.css3)for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style[`${window._jcsspfx}Transform`]=`translateY(${e-this.slideList[s].position}px)${this.__translate_end}`;else for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style.top=`${e-this.slideList[s].position}px`},e.__pushEnd=function(){let t=this.slides.shift(),e=this.slides[this.slidesCount-2];if(this.slides.push(t),this.normalMode){let i=e.$frame[0][this.__offset]+this.spacing+this[this.__dimension];t.$frame[0].style[this.__cssProb]=`${i}px`,t.position=i}},e.__pushStart=function(){let t=this.slides.pop(),e=this.slides[0];if(this.slides.unshift(t),this.normalMode){let i=e.$frame[0][this.__offset]-this.spacing-this[this.__dimension];t.$frame[0].style[this.__cssProb]=`${i}px`,t.position=i}},e.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);let t=this.viewSlidesList.slice();this.viewSlidesList=[];let e,i=0,s=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-s+i]);else{for(i=0;i!==s&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==s&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,e=t.length;i!==e;i++)this.viewSlidesList.includes(t[i])||(t[i].sleep(),t[i].$frame.detach());t=null},e.__locateSlides=function(t,e){this.__updateViewList(),e=this.loop?e||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(let i,s=this.viewSlidesList.length,n=0;n!==s;n++){let o=e+n*(this[this.__dimension]+this.spacing);if(i=this.viewSlidesList[n],this.$slideCont.append(i.$frame),i.wakeup(!1),i.position=o,i.selected&&i.bgvideo)try{i.bgvideo.play()}catch(l){}i.$frame[0].style[this.__cssProb]=`${o}px`}!1!==t&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)})(jQuery),(()=>{window.MSParallaxMaskView=function(t){MSMaskView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;let t=MSParallaxMaskView.prototype,e=MSBasicView.prototype;t._horizUpdate=function(t,i){e._horizUpdate.call(this,t,i);let s=0;if(this.css3)for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style[`${window._jcsspfx}Transform`]=`translateX(${(i-this.slideList[s].position)*MSParallaxMaskView.parallaxAmount}px)${this.__translate_end}`;else for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style.left=`${(i-this.slideList[s].position)*MSParallaxMaskView.parallaxAmount}px`},t._vertiUpdate=function(t,i){e._vertiUpdate.call(this,t,i);let s=0;if(this.css3)for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style[`${window._jcsspfx}Transform`]=`translateY(${(i-this.slideList[s].position)*MSParallaxMaskView.parallaxAmount}px)${this.__translate_end}`;else for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style.top=`${(i-this.slideList[s].position)*MSParallaxMaskView.parallaxAmount}px`},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)})(jQuery),(()=>{window.MSFadeView=function(t){MSBasicView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);let t=MSFadeView.prototype,e=MSBasicView.prototype;t.__update=function(t,e){for(let i,s,n=-e,o=0;o<this.slidesCount;++o)s=-n-(i=this.slideList[o]).position,this.__updateSlides(i,s)},t.__updateSlides=function({$element:t},e){let i=Math.abs(e/this[this.__dimension]);0>=1-i?t.fadeTo(0,0).css("visibility","hidden"):t.fadeTo(0,1-i).css("visibility","")},t.__locateSlides=function(t,e){this.__updateViewList(),e=this.loop?e||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(let i,s=this.viewSlidesList.length,n=0;n!==s;n++){let o=e+n*this[this.__dimension];(i=this.viewSlidesList[n]).wakeup(),i.position=o}!1!==t&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},t.__pushEnd=function(){let t=this.slides.shift(),e=this.slides[this.slidesCount-2];this.slides.push(t),t.position=e.position+this[this.__dimension]},t.__pushStart=function(){let t=this.slides.pop(),e=this.slides[0];this.slides.unshift(t),t.position=e.position-this[this.__dimension]},t.create=function(t){e.create.call(this,t),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)})(jQuery),(()=>{window.MSScaleView=function(t){MSBasicView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);let t=MSScaleView.prototype,e=MSFadeView.prototype;t.__updateSlides=function({$element:t},e){let i=Math.abs(e/this[this.__dimension]),s=t[0];0>=1-i?(s.style.opacity=0,s.style.visibility="hidden",s.style[`${window._jcsspfx}Transform`]=""):(s.style.opacity=1-i,s.style.visibility="",s.style[`${window._jcsspfx}Transform`]=`perspective(2000px) translateZ(${i*(0>e?-.5:.5)*300}px)`)},t.create=function(t){e.create.call(this,t),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)})(jQuery),(()=>{window.MSStackView=function(t){MSBasicView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;let t=MSStackView.prototype,e=MSFadeView.prototype;t.__updateSlidesZindex=function(){for(let t,e=this.viewSlidesList.length,i=0;i!==e;i++)t=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",e-i)},t.__updateSlides=function({$element:t},e){let i=Math.abs(e/this[this.__dimension]),s=t[0];0>=1-i?(s.style.opacity=1,s.style.visibility="hidden",s.style[`${window._jcsspfx}Transform`]=""):(s.style.visibility="",s.style[`${window._jcsspfx}Transform`]=0>e?`perspective(2000px) translateZ(${-300*i}px)`:`${this.__translate}(${-i*this[this.__dimension]}px)`)},t.create=function(t){e.create.call(this,t),this.controller.options.minValidDist=.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)})(jQuery),(()=>{let t=2e3;window.MSFocusView=function(t){MSWaveView.call(this,t),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;var e=MSFocusView.prototype;MSWaveView.prototype,e.__calcview=(e,i)=>{let s=i/2*e/(e+t);return s*(e+t)/t},e.__updateSlidesHoriz=function({$element:t},e){let i=Math.abs(100*e/this.__width);i=-(15*Math.min(i,100)),t.css(`${window._csspfx}transform`,`translateZ(${i+1}px) rotateY(0.01deg) translateX(${-((0>e?1:-1)*this.__calcview(i,this.__width))*this.options.centerSpace}px)`)},e.__updateSlidesVertic=function({$element:t},e){let i=Math.abs(100*e/this.__width);i=-(15*Math.min(i,100)),t.css(`${window._csspfx}transform`,`translateZ(${i+1}px) rotateY(0.01deg) translateY(${-((0>e?1:-1)*this.__calcview(i,this.__width))*this.options.centerSpace}px)`)},MSSlideController.registerView("focus",MSFocusView)})(),(()=>{window.MSPartialWaveView=function(t){MSWaveView.call(this,t),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var t=MSPartialWaveView.prototype;MSWaveView.prototype,t.__updateSlidesHoriz=function({hasBG:t,$bg_img:e,$element:i},s){let n=Math.abs(100*s/this.__width);t&&e.css("opacity",(100-Math.abs(120*s/this.__width/3))/100),i.css(`${window._csspfx}transform`,`translateZ(${-(3*n)}px) rotateY(0.01deg) translateX(${.75*s}px)`)},t.__updateSlidesVertic=function({hasBG:t,$bg_img:e,$element:i},s){let n=Math.abs(100*s/this.__width);t&&e.css("opacity",(100-Math.abs(120*s/this.__width/3))/100),i.css(`${window._csspfx}transform`,`translateZ(${-(3*n)}px) rotateY(0.01deg) translateY(${.75*s}px)`)},MSSlideController.registerView("partialWave",MSPartialWaveView)})(),(()=>{window.MSBoxView=function(t){MSBasicView.call(this,t),this.$element.removeClass("ms-basic-view").addClass("ms-box-view"),this.controller.renderCallback(this.__update,this)},MSBoxView.extend(MSFadeView),MSBoxView._3dreq=!0;let t=MSBoxView.prototype,e=MSFadeView.prototype;t.__updateSlides=function(t,e){let i=Math.abs(e/this[this.__dimension]),s=t.$element[0];0>=1-i?(s.style.visibility="hidden",s.style[`${window._jcsspfx}Transform`]=""):(s.style.visibility="",s.style[`${window._jcsspfx}Transform`]=`rotate${this._rotateDir}(${i*(0>e?1:-1)*90*this._calcFactor}deg)`,s.style[`${window._jcsspfx}TransformOrigin`]=`50% 50% -${t[this.__dimension]/2}px`,s.style.zIndex=Math.ceil(2*(1-i)))},t.create=function(t){e.create.call(this,t),this.controller.options.minValidDist=.03,this._rotateDir="h"===this.options.dir?"Y":"X",this._calcFactor="h"===this.options.dir?1:-1},MSSlideController.registerView("box",MSBoxView)})(jQuery),(t=>{let e=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},i=e.prototype;i.slideAction=()=>{},i.setup=function(){this.cont=this.options.insertTo?t(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},i.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&!1===this.options.inset,t(window).on("resize",{that:this},this.onResize),this.onResize())},i.onResize=function(t){let e=t&&t.data.that||this,i=window.innerWidth;i<=e.options.hideUnder&&!e.detached?(e.hide(!0),e.detached=!0,e.onDetach()):i>=e.options.hideUnder&&e.detached&&(e.detached=!1,e.visible(),e.onAppend())},i.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter(t.proxy(this._onMouseEnter,this)).mouseleave(t.proxy(this._onMouseLeave,this)).mousedown(t.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter(t.proxy(this._onMouseEnter,this)).mouseleave(t.proxy(this._onMouseLeave,this)).mousedown(t.proxy(this._onMouseDown,this)),t(document).mouseup(t.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass(`ms-align-${this.options.align}`),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},i._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},i._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},i._onMouseDown=function(){this.mdown=!0},i._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},i.onAppend=function(){this.needsRealign&&this.slider._realignControls()},i.onDetach=function(){this.needsRealign&&this.slider._realignControls()},i._hideOnvideoStarts=function(){let t=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,()=>{t._disableAH=!0,t.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,()=>{t._disableAH=!1,t.visible()})},i.hide=function(t){if(t)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);let e=this.$element;this.hideTo=setTimeout(()=>{CTween.fadeOut(e,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},i.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},i.destroy=function(){this.options&&this.options.hideUnder&&t(window).off("resize",this.onResize)},window.BaseControl=e})(jQuery),(t=>{let e=function(e){BaseControl.call(this),t.extend(this.options,e)};e.extend(BaseControl);let i=e.prototype,s=BaseControl.prototype;i.setup=function(){let e=this;this.$next=t("<div></div>").addClass(`${this.options.prefix}nav-next`).on("click",()=>{e.slider.api.next(!0)}),this.$prev=t("<div></div>").addClass(`${this.options.prefix}nav-prev`).on("click",()=>{e.slider.api.previous(!0)}),s.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},i.hide=function(t){return t?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},i.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},i.destroy=function(){s.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=e,MSSlideController.registerControl("arrows",e)})(jQuery),(t=>{let e=function(e){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===e.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,t.extend(this.options,e),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};e.extend(BaseControl);let i=e.prototype,s=BaseControl.prototype;i.setup=function(){if(this.$element=t("<div></div>").addClass(`${this.options.prefix}thumb-list`),"tabs"===this.options.type&&this.$element.addClass(`${this.options.prefix}tabs`),this.$element.addClass(`ms-dir-${this.options.dir}`),s.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=t("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){let e=this;this.$fwd=t("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(()=>{e.controller.push(-15)}),this.$bwd=t("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(()=>{e.controller.push(15)})}if(!this.options.insetTo&&this.options.align){let i=this.options.align;this.options.inset?this.$element.css(i,this.options.margin):"top"===i?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===i?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},i.align=function(){if(!this.detached){let t=this.options.align,e=this.slider.reserveSpace(t,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(t,-e-this.options[this.__alignsize]-this.options.margin)}},i.slideAction=function({$element:e}){let i=e.find(".ms-thumb"),s=this,n=t("<div></div>").addClass("ms-thumb-frame").append(i).append(t('<div class="ms-thumb-ol"></div>')).on(this.options.hover?"hover":"click",()=>{s.changeSlide(n)});if(this.options.align&&n.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css(`margin-${"v"===this.options.dir?"bottom":"right"}`,this.options.space),n[0].index=this.index_count++,this.$thumbscont.append(n),this.options.fillMode&&i.is("img")){let o=new window.MSAligner(this.options.fillMode,n,i);i[0].aligner=o,i.one("load",function(){let e=t(this);e[0].aligner.init(e.width(),e.height()),e[0].aligner.align()}).each(t.jqLoadFix)}t.browser.msie&&i.on("dragstart",t=>{t.preventDefault()}),this.thumbs.push(n)},i.create=function(){s.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var e=this;this.resize_listener=()=>{e.__resize()},t(window).on("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var e=this;this.options.wheel&&(this.wheellistener=t=>{let i=window.event||t.orginalEvent||t,s=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));return e.controller.push(-(10*s)),!1},t.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.on("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},i._hMove=function(t,e){return this.__contPos=e,window._cssanim?void(this.$thumbscont[0].style[`${window._jcsspfx}Transform`]=`translateX(${-e}px)${this.__translate_end}`):void(this.$thumbscont[0].style.left=`${-e}px`)},i._vMove=function(t,e){return this.__contPos=e,window._cssanim?void(this.$thumbscont[0].style[`${window._jcsspfx}Transform`]=`translateY(${-e}px)${this.__translate_end}`):void(this.$thumbscont[0].style.top=`${-e}px`)},i.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";let t=this;this.swipeControl.onSwipe="h"===this.options.dir?e=>{t.horizSwipeMove(e)}:e=>{t.vertSwipeMove(e)}},i.vertSwipeMove=function(t){if(!this.dTouch){let e=t.phase;if("start"===e)this.controller.stop();else if("move"===e)this.controller.drag(t.moveY);else if("end"===e||"cancel"===e){let i=Math.abs(t.distanceY/t.duration*50/3);i>.1?this.controller.push(-t.distanceY/t.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},i.horizSwipeMove=function(t){if(!this.dTouch){let e=t.phase;if("start"===e)this.controller.stop(),this.click_enable=!1;else if("move"===e)this.controller.drag(t.moveX);else if("end"===e||"cancel"===e){let i=Math.abs(t.distanceX/t.duration*50/3);i>.1?this.controller.push(-t.distanceX/t.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},i.update=function(){let t=this.slider.api.index();this.cindex!==t&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=t,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},i.realignThumbs=function(){this.$element.find(".ms-thumb").each((t,{aligner:e})=>{e&&e.align()})},i.updateThumbscroll=function(){let t=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),t-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(t+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){let e=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(e,!0)}},i.changeSlide=function(t){this.click_enable&&this.cindex!==t[0].index&&this.slider.api.gotoSlide(t[0].index)},i.unselect=t=>{t.removeClass("ms-thumb-frame-selected")},i.select=t=>{t.addClass("ms-thumb-frame-selected")},i.__resize=function(){let t=this.$element[this.__dimen]();if(this.ls!==t){this.ls=t,this.thumbSize=this.thumbs[0][this.__jdimen](!0);let e=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=`${e}px`,t>=e?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=`${.5*(t-e)}px`,this.$thumbscont[0].style[`${window._jcsspfx}Transform`]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=e-t,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},i.destroy=function(){s.destroy(),this.options.wheel&&(t.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.off("mousewheel",this.wheellistener),this.wheellistener=null),t(window).off("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=e,MSSlideController.registerControl("thumblist",e)})(jQuery),(t=>{let e=function(e){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,t.extend(this.options,e),this.bullets=[]};e.extend(BaseControl);let i=e.prototype,s=BaseControl.prototype;i.setup=function(){if(s.setup.call(this),this.$element=t("<div></div>").addClass(`${this.options.prefix}bullets`).addClass(`ms-dir-${this.options.dir}`).appendTo(this.cont),this.$bullet_cont=t("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){let e=this.options.align;this.options.inset&&this.$element.css(e,this.options.margin)}this.checkHideUnder()},i.create=function(){s.create.call(this);let e=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(let i=0;i<this.slider.api.count();++i){var n=t("<div></div>").addClass("ms-bullet");n[0].index=i,n.on("click",function(){e.changeSlide(this.index)}),this.$bullet_cont.append(n),this.bullets.push(n),"h"===this.options.dir?n.css("margin",this.options.space/2):n.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(n.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},i.update=function(){let t=this.slider.api.index();this.cindex!==t&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=t,this.select(this.bullets[this.cindex]))},i.changeSlide=function(t){this.cindex!==t&&this.slider.api.gotoSlide(t)},i.unselect=t=>{t.removeClass("ms-bullet-selected")},i.select=t=>{t.addClass("ms-bullet-selected")},i.destroy=function(){s.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=e,MSSlideController.registerControl("bullets",e)})(jQuery),(t=>{let e=function(e){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,t.extend(this.options,e),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};e.extend(BaseControl);let i=e.prototype,s=BaseControl.prototype;i.setup=function(){if(this.$element=t("<div></div>").addClass(`${this.options.prefix}sbar`).addClass(`ms-dir-${this.options.dir}`),s.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=t("<div></div>").addClass(`${this.options.prefix}bar`).appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});let e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):"top"===e?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===e?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},i.align=function(){if(!this.detached){let t=this.options.align,e=this.slider.reserveSpace(t,2*this.options.margin+this.options.width);this.$element.css(t,-e-this.options.margin-this.options.width)}},i.create=function(){!this.disable&&(this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0"))},i._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view[`__${this.__dimen}`]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},i._update=function(){let t=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==t){if(this.lvalue=t,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");let e=this;this.hto=setTimeout(()=>{e.$bar.css("opacity","0")},150)}return 0>t?void(this.$bar[0].style[this.__dimen]=`${this.bar_dimen+t}px`):(t>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=`${this.vdimen-t}px`),window._cssanim?void(this.$bar[0].style[`${window._jcsspfx}Transform`]=`${this.__translate_start+t}px)${this.__translate_end}`):void(this.$bar[0].style[this.__pos]=`${t}px`))}},i.destroy=function(){s.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=e,MSSlideController.registerControl("scrollbar",e)})(jQuery),(t=>{let e=function(e){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,t.extend(this.options,e)};e.extend(BaseControl);let i=e.prototype,s=BaseControl.prototype;i.setup=function(){if(s.setup.call(this),this.$element=t("<div></div>").addClass(`${this.options.prefix}timerbar`),s.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=t("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});let e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):"top"===e?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===e?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},i.align=function(){if(!this.detached){let t=this.options.align,e=this.slider.reserveSpace(t,2*this.options.margin+this.options.width);this.$element.css(t,-e-this.options.margin-this.options.width)}},i.create=function(){s.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},i._update=function(){this.$bar[0].style.width=`${this.slider.api._delayProgress}%`},i.destroy=function(){s.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=e,MSSlideController.registerControl("timebar",e)})(jQuery),(t=>{let e=function(e){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,t.extend(this.options,e)};e.extend(BaseControl);let i=e.prototype,s=BaseControl.prototype;i.setup=function(){return s.setup.call(this),this.$element=t("<div></div>").addClass(`${this.options.prefix}ctimer`).appendTo(this.cont),this.$canvas=t("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=t("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))},i.create=function(){if(!this.disable){s.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);let t=this;this.$element.click(()=>{t.slider.api.paused?t.slider.api.resume():t.slider.api.pause()}),this._update()}},i._update=function(){let e=this;t(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step(){e._draw()}})},i._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},i.destroy=function(){s.destroy(),this.disable||(t(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=e,MSSlideController.registerControl("circletimer",e)})(jQuery),(t=>{window.MSLightbox=function(e){BaseControl.call(this,e),this.options.autohide=!1,t.extend(this.options,e),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);let e=MSLightbox.prototype,i=BaseControl.prototype;e.setup=function(){i.setup.call(this),this.$element=t("<div></div>").addClass(`${this.options.prefix}lightbox-btn`).appendTo(this.cont),this.checkHideUnder()},e.slideAction=function({$element:e}){t("<div></div>").addClass(`${this.options.prefix}lightbox-btn`).appendTo(e).append(t(e.find(".ms-lightbox")))},e.create=function(){i.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)})(jQuery),(t=>{window.MSSlideInfo=function(e){BaseControl.call(this,e),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",t.extend(this.options,e),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);let e=MSSlideInfo.prototype,i=BaseControl.prototype;e.setup=function(){if(this.$element=t("<div></div>").addClass(`${this.options.prefix}slide-info`).addClass(`ms-dir-${this.options.dir}`),i.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){let e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):"top"===e?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===e?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},e.align=function(){if(!this.detached){let t=this.options.align,e=this.slider.reserveSpace(t,this.options.size+2*this.options.margin);this.$element.css(t,-e-this.options.size-this.options.margin)}},e.slideAction=function({$element:e,index:i}){let s=t(e.find(".ms-info"));s.detach(),this.data_list[i]=s},e.create=function(){i.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},e.update=function(){let t=this.slider.api.index();this.switchEle(this.data_list[t]),this.cindex=t},e.switchEle=function(t){this.current_ele&&(this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete(){this.detach(),this[0].tween=null,t.css("position","relative")},target:this.current_ele}),t.css("position","absolute")),this.__show(t)},e.__show=function(t){t.appendTo(this.$element).css("opacity","0"),this.current_ele&&t.height(Math.max(t.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(()=>{CTween.fadeIn(t,MSSlideInfo.fadeDuratation),t.css("height","")},MSSlideInfo.fadeDuratation),t[0].tween&&t[0].tween.stop(!0),this.current_ele=t},e.destroy=function(){i.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)})(jQuery),(t=>{window.MSGallery=function(e,i){this.id=e,this.slider=i,this.telement=t(`#${e}`),this.botcont=t("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=t("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=t("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=t("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),i.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),i.control("slidenum",{insertTo:this.botcont,autohide:!1}),i.control("slideinfo",{insertTo:this.botcont,autohide:!1}),i.control("timebar",{insertTo:this.botcont,autohide:!1}),i.control("bullets",{insertTo:this.botcont,autohide:!1})};let e=MSGallery.prototype;e._init=function(){let t=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(()=>{t.slider.api.paused?(t.slider.api.resume(),t.playbtn.addClass("btn-pause")):(t.slider.api.pause(),t.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(()=>{t.vthumbs?(t.thumbtoggle.removeClass("btn-hide"),t.vthumbs=!1,t.thumbcont.addClass("hide-thumbs")):(t.thumbtoggle.addClass("btn-hide"),t.thumbcont.removeClass("hide-thumbs"),t.vthumbs=!0)})},e.setup=function(){let e=this;t(document).ready(()=>{e._init()})}})(jQuery),(t=>{let e=(t,e,i)=>`https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=${t}&photoset_id=${e}&per_page=${i}&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?`,i=(t,e,i)=>`https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key=${t}&user_id=${e}&per_page=${i}&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?`,s=(t,e,i,s,n,o)=>"_o"===n&&o?o.url_o:`https://farm${t}.staticflickr.com/${e}/${i}_${s}${n}.jpg`;window.MSFlickrV2=function(s,n){let o={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=s,this.slider.holdOn(),!n.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");t.extend(o,n),this.options=o;let l=this;"photoset"===this.options.type?t.getJSON(e(this.options.key,this.options.id,this.options.count),t=>{l._photosData(t)}):t.getJSON(i(this.options.key,this.options.id,this.options.count),t=>{l.options.type="photos",l._photosData(t)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize=`_${this.options.imgSize}`),this.options.thumbSize=`_${this.options.thumbSize}`,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};let n=MSFlickrV2.prototype;n._photosData=function(e){if("fail"===e.stat)return void this.errMsg(`Flickr API ERROR#${e.code}: ${e.message}`);var i=this;this.options.author||this.options.desc,t.each(e[this.options.type].photo,(e,s)=>{let n=i.slideTemplate.replace(/{{[\w-]+}}/g,t=>o[t=t.replace(/{{|}}/g,"")]?o[t](s,i):`{{${t}}}`);t(n).appendTo(i.slider.$element)}),i._initSlider()},n.errMsg=function(e){this.slider.$element.css("display","block"),this.errEle||(this.errEle=t('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(e)},n._initSlider=function(){this.slider.release()};var o={image:(t,{options:e})=>s(t.farm,t.server,t.id,t.secret,e.imgSize,t),thumb:({farm:t,server:e,id:i,secret:n},{options:o})=>s(t,e,i,n,o.thumbSize),title:({title:t})=>t,"owner-name":function({ownername:t}){return t},"date-taken":function({datetaken:t}){return t},views:({views:t})=>t,description:({description:t})=>t._content}})(jQuery),(t=>{window.MSFacebookGallery=function(e,i){let s={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1,token:""};this.slider=e,this.slider.holdOn(),t.extend(s,i),this.options=s,this.graph="https://graph.facebook.com";let n=this;"photostream"===this.options.type?t.getJSON(`${this.graph}/${this.options.username}/photos/uploaded/?fields=source,name,link,images,from&limit=${this.options.count}&access_token=${this.options.token}`,t=>{n._photosData(t)}):t.getJSON(`${this.graph}/${this.options.albumId}/photos?fields=source,name,link,images,from&limit=${this.options.count}&access_token=${this.options.token}`,t=>{n._photosData(t)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};let e=MSFacebookGallery.prototype;e._photosData=function({error:e,data:i}){if(e)return void this.errMsg(`Facebook API ERROR#${e.code}(${e.type}): ${e.message}`);for(var n=this,o=(this.options.author||this.options.desc,0),l=i.length;o!==l;o++){let h=n.slideTemplate.replace(/{{[\w-]+}}/g,t=>s[t=t.replace(/{{|}}/g,"")]?s[t](i[o],n):`{{${t}}}`);t(h).appendTo(n.slider.$element)}n._initSlider()},e.errMsg=function(e){this.slider.$element.css("display","block"),this.errEle||(this.errEle=t('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(e)},e._initSlider=function(){this.slider.release()};let i=(t,e)=>{if("orginal"===e)return t[0].source;for(let i=0,s=t.length;i!==s;i++)if(t[i].source.includes(`${e}x${e}`))return t[i].source;return t[0].source};var s={image:({images:t},{options:e})=>i(t,e.imgSize),thumb:({images:t},{options:e})=>i(t,e.thumbSize),name:({name:t})=>t,"owner-name":function({from:t}){return t.name},link:({link:t})=>t}})(jQuery),(t=>{window.MSScrollParallax=function(t,e,i,s){this.fade=s,this.slider=t,this.parallax=e/100,this.bgparallax=i/100,t.api.addEventListener(MSSliderEvent.INIT,this.init,this),t.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),t.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),t.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=(t,e,i,s)=>window._mobile?void 0:(null==e&&(e=50),null==i&&(i=40),new MSScrollParallax(t,e,i,s));let e=window.MSScrollParallax.prototype;e.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(let e,i=this.slider.api.view.slideList,s=0,n=i.length;s!==n;s++)(e=i[s]).hasLayers&&(e.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),e.$scrollParallaxCont=e.layerController.$layers.parent());t(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},e.resetLayers=function(){if(this.lastSlide){let t=this.lastSlide.$scrollParallaxCont;window._css2d?(t&&(t[0].style[`${window._jcsspfx}Transform`]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[`${window._jcsspfx}Transform`]="")):(t&&(t[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},e.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},e.moveParallax=({data:e})=>{let i=e.that,s=i.slider,n=i.sliderOffset,o=t(window).scrollTop(),l=i.currentSlide.$scrollParallaxCont,h=n-o;0>=h?(l&&(window._css3d?l[0].style[`${window._jcsspfx}Transform`]=`translateY(${-h*i.parallax}px) translateZ(0.4px)`:window._css2d?l[0].style[`${window._jcsspfx}Transform`]=`translateY(${-h*i.parallax}px)`:l[0].style.top=`${-h*i.parallax}px`),i.updateSlidesBG(`${-h*i.bgparallax}px`,!0),l&&i.fade&&l.css("opacity",1-Math.min(1,-h/s.api.height))):(l&&(window._css2d?l[0].style[`${window._jcsspfx}Transform`]="":l[0].style.top=""),i.updateSlidesBG("0px",!1),l&&i.fade&&l.css("opacity",1))},e.updateSlidesBG=function(e,i){for(let s=this.slider.api.view.slideList,n=!i||t.browser.msie||t.browser.opera?"":"fixed",o=0,l=s.length;o!==l;o++)s[o].hasBG&&(s[o].$imgcont[0].style.position=n,s[o].$imgcont[0].style.top=e),s[o].$bgvideocont&&(s[o].$bgvideocont[0].style.position=n,s[o].$bgvideocont[0].style.top=e)},e.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),t(window).off("scroll",this.moveParallax)}})(jQuery),((t,e,i)=>{let s=0;if(i.MasterSlider){let n=function(t){this.slider=t,this.PId=s++,this.slider.options.keyboard&&t.api.addEventListener(MSSliderEvent.INIT,this.init,this)};n.name="MSKeyboardNav";let o=n.prototype;o.init=function(){let i=this.slider.api;t(e).on(`keydown.kbnav${this.PId}`,t=>{let e=t.which;37===e||40===e?i.previous(!0):(38===e||39===e)&&i.next(!0)})},o.destroy=function(){t(e).off(`keydown.kbnav${this.PId}`),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(n)}})(jQuery,document,window),((t,e,i)=>{let s=0,n=t(i),o=t(e);if(i.MasterSlider){let l=function(e){this.PId=s++,this.slider=e,this.$slider=e.$element,this.slider.options.startOnAppear&&(e.holdOn(),o.ready(t.proxy(this.init,this)))};l.name="MSStartOnAppear";let h=l.prototype;h.init=function(){this.slider.api,n.on(`scroll.soa${this.PId}`,t.proxy(this._onScroll,this)).trigger("scroll")},h._onScroll=function(){let t=n.scrollTop()+n.height(),e=this.$slider.offset().top;t>e&&(n.off(`scroll.soa${this.PId}`),this.slider.release())},h.destroy=()=>{},MasterSlider.registerPlugin(l)}})(jQuery,document,window),((t,e)=>{let i={"hue-rotate":"deg",blur:"px"},s={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(e.MasterSlider){let n=function(t){this.slider=t,this.slider.options.filters&&t.api.addEventListener(MSSliderEvent.INIT,this.init,this)};n.name="MSFilters";let o=n.prototype;o.init=function(){let t=this.slider.api,e=t.view;this.filters=this.slider.options.filters,this.slideList=e.slideList,this.slidesCount=e.slidesCount,this.dimension=e[e.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=$.browser.webkit?"WebkitFilter":"filter";let i=e.controller.__renderHook.fun,s=e.controller.__renderHook.ref;e.controller.renderCallback(function(t,e){i.call(s,t,e),this.applyEffect(e)},this),this.applyEffect(e.controller.value)},o.applyEffect=function(t){for(let e,i,s=0;s<this.slidesCount;++s)e=Math.min(1,Math.abs(t-(i=this.slideList[s]).position)/this.dimension),i[this.target]&&($.browser.msie?null!=this.filters.opacity&&i[this.target].opacity(1-this.filters.opacity*e):i[this.target][0].style[this.filterName]=this.generateStyle(e))},o.generateStyle=function(t){let e,n="";for(let o in this.filters)e=i[o]||"",n+=`${o}(${s[o]+(this.filters[o]-s[o])*t}) `;return n},o.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(n)}})(document,window,jQuery),((t,e,i)=>{if(i.MasterSlider){let s=function(t){this.slider=t,t.api.addEventListener(MSSliderEvent.INIT,this.init,this)};s.name="MSScrollToAction";let n=s.prototype;n.init=function(){let t=this.slider.api;t.scrollToEnd=l,t.scrollTo=o},n.destroy=()=>{};var o=function(e,i){var e=(this.slider.$element,t(e).eq(0));0!==e.length&&(null==i&&(i=1.4),t("html, body").animate({scrollTop:e.offset().top},1e3*i,"easeInOutQuad"))},l=function(e){let i=this.slider.$element;null==e&&(e=1.4),t("html, body").animate({scrollTop:i.offset().top+i.outerHeight(!1)},1e3*e,"easeInOutQuad")};MasterSlider.registerPlugin(s)}})(jQuery,document,window),((t,e)=>{if(e.MSReady)for(let i=0,s=MSReady.length;i!==s;i++)MSReady[i].call(null,t)})(jQuery,window,document);